<!DOCTYPE html>
<html class="writer-html5" lang="en">
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Keraunos System Architecture &mdash; Keraunos PCIe Tile 2.0 documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css" />
      <link rel="stylesheet" type="text/css" href="_static/custom.css" />

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/sphinx_highlight.js"></script>
        <script src="https://unpkg.com/mermaid@10.6.1/dist/mermaid.min.js"></script>
        <script>
mermaid.initialize({
    startOnLoad: true,
    theme: 'default',
    themeVariables: {
        primaryColor: '#e3f2fd',
        primaryTextColor: '#000',
        primaryBorderColor: '#1976d2',
        lineColor: '#1976d2',
        secondaryColor: '#fff4e1',
        tertiaryColor: '#e8f5e9'
    },
    flowchart: {
        useMaxWidth: true,
        htmlLabels: true,
        curve: 'basis',
        padding: 15
    },
    sequence: {
        useMaxWidth: true,
        diagramMarginX: 50,
        diagramMarginY: 10,
        actorMargin: 50,
        boxMargin: 10,
        boxTextMargin: 5,
        noteMargin: 10,
        messageMargin: 35
    },
    gantt: {
        useMaxWidth: true,
        barHeight: 20,
        barGap: 4,
        topPadding: 50,
        leftPadding: 75,
        gridLineStartPadding: 35
    },
    class: {
        useMaxWidth: true
    },
    state: {
        useMaxWidth: true
    }
});
</script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Keraunos PCIe Tile - High-Level Design Document" href="Keraunos_PCIe_Tile_HLD.html" />
    <link rel="prev" title="Keraunos PCIe Tile Documentation" href="index.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            Keraunos PCIe Tile
          </a>
              <div class="version">
                2.0
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Keraunos System Architecture</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#pcie-tile-integration-in-keraunos-e100-chiplet-ecosystem">PCIe Tile Integration in Keraunos-E100 Chiplet Ecosystem</a></li>
<li class="toctree-l2"><a class="reference internal" href="#executive-summary">Executive Summary</a></li>
<li class="toctree-l2"><a class="reference internal" href="#table-of-contents">Table of Contents</a></li>
<li class="toctree-l2"><a class="reference internal" href="#system-overview">1. System Overview</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#grendel-chiplet-ecosystem">1.1 Grendel Chiplet Ecosystem</a></li>
<li class="toctree-l3"><a class="reference internal" href="#keraunos-e100-role">1.2 Keraunos-E100 Role</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#keraunos-e100-chiplet-architecture">2. Keraunos-E100 Chiplet Architecture</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#high-level-block-diagram">2.1 High-Level Block Diagram</a></li>
<li class="toctree-l3"><a class="reference internal" href="#key-subsystems">2.2 Key Subsystems</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#chiplet-harness">2.2.1 Chiplet Harness</a></li>
<li class="toctree-l4"><a class="reference internal" href="#pcie-subsystem">2.2.2 PCIe Subsystem</a></li>
<li class="toctree-l4"><a class="reference internal" href="#hsio-high-speed-i-o-tiles">2.2.3 HSIO (High-Speed I/O) Tiles</a></li>
<li class="toctree-l4"><a class="reference internal" href="#noc-infrastructure">2.2.4 NOC Infrastructure</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#pcie-tile-position-in-the-system">3. PCIe Tile Position in the System</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#pcie-tile-overview">3.1 PCIe Tile Overview</a></li>
<li class="toctree-l3"><a class="reference internal" href="#architectural-position">3.2 Architectural Position</a></li>
<li class="toctree-l3"><a class="reference internal" href="#key-interfaces">3.3 Key Interfaces</a></li>
<li class="toctree-l3"><a class="reference internal" href="#model-integration-hostrceppcie-tile-connection-diagram">3.4 Model Integration: Host–RC–EP–PCIe Tile Connection Diagram</a></li>
<li class="toctree-l3"><a class="reference internal" href="#vdk-integration-pcie-tile-and-synopsys-pcie-controller-in-the-virtualizer">3.5 VDK Integration: PCIe Tile and Synopsys PCIe Controller in the Virtualizer</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#vdk-workspace-layout-vsws-tt">3.5.1 VDK Workspace Layout (vsws_TT)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#alignment-with-keraunos-where-the-pcie-tile-fits">3.5.2 Alignment with Keraunos: Where the PCIe Tile Fits</a></li>
<li class="toctree-l4"><a class="reference internal" href="#interface-level-connection-diagram-vdk">3.5.3 Interface-Level Connection Diagram (VDK)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#signal-and-interface-level-mapping-ep-pcie-tile">3.5.4 Signal- and Interface-Level Mapping (EP ↔ PCIe Tile)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#connection-diagram-for-easy-integration">3.5.5 Connection Diagram for Easy Integration</a></li>
<li class="toctree-l4"><a class="reference internal" href="#designware-pcie-ep-and-rc-interfaces-connect-to-tile-system-vs-stub">3.5.6 DesignWare PCIe EP and RC Interfaces: Connect to Tile / System vs Stub</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#connectivity-architecture">4. Connectivity Architecture</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#inbound-data-path-host-chip">4.1 Inbound Data Path (Host → Chip)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#outbound-data-path-chip-host">4.2 Outbound Data Path (Chip → Host)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#configuration-path-smn-pcie-tile-registers">4.3 Configuration Path (SMN → PCIe Tile Registers)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#msi-interrupt-path-chip-host">4.4 MSI Interrupt Path (Chip → Host)</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#data-flow-paths">5. Data Flow Paths</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#end-to-end-data-flow-example-host-dma-to-quasar">5.1 End-to-End Data Flow Example: Host DMA to Quasar</a></li>
<li class="toctree-l3"><a class="reference internal" href="#multi-hop-data-flow-quasar-pcie-host-pcie-quasar">5.2 Multi-Hop Data Flow: Quasar → PCIe → Host → PCIe → Quasar</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#address-space-integration">6. Address Space Integration</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#system-address-map">6.1 System Address Map</a></li>
<li class="toctree-l3"><a class="reference internal" href="#pcie-bar-base-address-register-mapping">6.2 PCIe BAR (Base Address Register) Mapping</a></li>
<li class="toctree-l3"><a class="reference internal" href="#address-translation-stages">6.3 Address Translation Stages</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#system-use-cases">7. System Use Cases</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#use-case-1-model-initialization">7.1 Use Case 1: Model Initialization</a></li>
<li class="toctree-l3"><a class="reference internal" href="#use-case-2-inference-execution">7.2 Use Case 2: Inference Execution</a></li>
<li class="toctree-l3"><a class="reference internal" href="#use-case-3-package-to-package-communication">7.3 Use Case 3: Package-to-Package Communication</a></li>
<li class="toctree-l3"><a class="reference internal" href="#use-case-4-system-management">7.4 Use Case 4: System Management</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#appendices">8. Appendices</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#acronyms-and-abbreviations">8.1 Acronyms and Abbreviations</a></li>
<li class="toctree-l3"><a class="reference internal" href="#reference-documents">8.2 Reference Documents</a></li>
<li class="toctree-l3"><a class="reference internal" href="#revision-history">8.3 Revision History</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="Keraunos_PCIe_Tile_HLD.html">Keraunos PCIe Tile - High-Level Design Document</a><ul>
<li class="toctree-l2"><a class="reference internal" href="Keraunos_PCIe_Tile_HLD.html#table-of-contents">Table of Contents</a></li>
<li class="toctree-l2"><a class="reference internal" href="Keraunos_PCIe_Tile_HLD.html#introduction">1. Introduction</a><ul>
<li class="toctree-l3"><a class="reference internal" href="Keraunos_PCIe_Tile_HLD.html#purpose">1.1 Purpose</a></li>
<li class="toctree-l3"><a class="reference internal" href="Keraunos_PCIe_Tile_HLD.html#scope">1.2 Scope</a></li>
<li class="toctree-l3"><a class="reference internal" href="Keraunos_PCIe_Tile_HLD.html#definitions-and-acronyms">1.3 Definitions and Acronyms</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="Keraunos_PCIe_Tile_HLD.html#architecture-overview">2. Architecture Overview</a><ul>
<li class="toctree-l3"><a class="reference internal" href="Keraunos_PCIe_Tile_HLD.html#top-level-architecture">2.1 Top-Level Architecture</a></li>
<li class="toctree-l3"><a class="reference internal" href="Keraunos_PCIe_Tile_HLD.html#design-principles">2.2 Design Principles</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="Keraunos_PCIe_Tile_HLD.html#block-diagram">3. Block Diagram</a><ul>
<li class="toctree-l3"><a class="reference internal" href="Keraunos_PCIe_Tile_HLD.html#tile-level-block-diagram">3.1 Tile-Level Block Diagram</a></li>
<li class="toctree-l3"><a class="reference internal" href="Keraunos_PCIe_Tile_HLD.html#data-flow-paths">3.2 Data Flow Paths</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="Keraunos_PCIe_Tile_HLD.html#module-descriptions">4. Module Descriptions</a><ul>
<li class="toctree-l3"><a class="reference internal" href="Keraunos_PCIe_Tile_HLD.html#noc-pcie-switch">4.1 NOC-PCIE Switch</a></li>
<li class="toctree-l3"><a class="reference internal" href="Keraunos_PCIe_Tile_HLD.html#noc-io-switch">4.2 NOC-IO Switch</a></li>
<li class="toctree-l3"><a class="reference internal" href="Keraunos_PCIe_Tile_HLD.html#smn-io-switch">4.3 SMN-IO Switch</a></li>
<li class="toctree-l3"><a class="reference internal" href="Keraunos_PCIe_Tile_HLD.html#translation-lookaside-buffers-tlbs">4.4 Translation Lookaside Buffers (TLBs)</a></li>
<li class="toctree-l3"><a class="reference internal" href="Keraunos_PCIe_Tile_HLD.html#msi-relay-unit">4.5 MSI Relay Unit</a></li>
<li class="toctree-l3"><a class="reference internal" href="Keraunos_PCIe_Tile_HLD.html#system-information-interface-sii-block">4.6 System Information Interface (SII) Block</a></li>
<li class="toctree-l3"><a class="reference internal" href="Keraunos_PCIe_Tile_HLD.html#configuration-register-block">4.7 Configuration Register Block</a></li>
<li class="toctree-l3"><a class="reference internal" href="Keraunos_PCIe_Tile_HLD.html#clock-and-reset-control">4.8 Clock and Reset Control</a></li>
<li class="toctree-l3"><a class="reference internal" href="Keraunos_PCIe_Tile_HLD.html#pcie-phy-model">4.9 PCIe PHY Model</a></li>
<li class="toctree-l3"><a class="reference internal" href="Keraunos_PCIe_Tile_HLD.html#pll-cgm-clock-generation-module">4.10 PLL/CGM (Clock Generation Module)</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="Keraunos_PCIe_Tile_HLD.html#interface-specifications">5. Interface Specifications</a><ul>
<li class="toctree-l3"><a class="reference internal" href="Keraunos_PCIe_Tile_HLD.html#external-tlm-sockets">5.1 External TLM Sockets</a></li>
<li class="toctree-l3"><a class="reference internal" href="Keraunos_PCIe_Tile_HLD.html#control-input-signals">5.2 Control Input Signals</a></li>
<li class="toctree-l3"><a class="reference internal" href="Keraunos_PCIe_Tile_HLD.html#output-signals">5.3 Output Signals</a></li>
<li class="toctree-l3"><a class="reference internal" href="Keraunos_PCIe_Tile_HLD.html#internal-signals">5.4 Internal Signals</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="Keraunos_PCIe_Tile_HLD.html#address-map">6. Address Map</a><ul>
<li class="toctree-l3"><a class="reference internal" href="Keraunos_PCIe_Tile_HLD.html#inbound-address-map-pcie-noc-smn">6.1 Inbound Address Map (PCIe → NOC/SMN)</a></li>
<li class="toctree-l3"><a class="reference internal" href="Keraunos_PCIe_Tile_HLD.html#configuration-address-map-smn">6.2 Configuration Address Map (SMN)</a></li>
<li class="toctree-l3"><a class="reference internal" href="Keraunos_PCIe_Tile_HLD.html#msi-relay-address-map-0x18800000">6.3 MSI Relay Address Map (0x18800000)</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="Keraunos_PCIe_Tile_HLD.html#data-flow">7. Data Flow</a><ul>
<li class="toctree-l3"><a class="reference internal" href="Keraunos_PCIe_Tile_HLD.html#inbound-data-flow-pcie-noc">7.1 Inbound Data Flow (PCIe → NOC)</a></li>
<li class="toctree-l3"><a class="reference internal" href="Keraunos_PCIe_Tile_HLD.html#outbound-data-flow-noc-pcie">7.2 Outbound Data Flow (NOC → PCIe)</a></li>
<li class="toctree-l3"><a class="reference internal" href="Keraunos_PCIe_Tile_HLD.html#configuration-access-flow-smn-config-registers">7.3 Configuration Access Flow (SMN → Config Registers)</a></li>
<li class="toctree-l3"><a class="reference internal" href="Keraunos_PCIe_Tile_HLD.html#msi-generation-flow-noc-pcie-via-msi-relay">7.4 MSI Generation Flow (NOC → PCIe via MSI Relay)</a></li>
<li class="toctree-l3"><a class="reference internal" href="Keraunos_PCIe_Tile_HLD.html#cii-interrupt-flow-pcie-config-write-config-update">7.5 CII Interrupt Flow (PCIe Config Write → config_update)</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="Keraunos_PCIe_Tile_HLD.html#clock-and-reset-strategy">8. Clock and Reset Strategy</a><ul>
<li class="toctree-l3"><a class="reference internal" href="Keraunos_PCIe_Tile_HLD.html#clock-domains">8.1 Clock Domains</a></li>
<li class="toctree-l3"><a class="reference internal" href="Keraunos_PCIe_Tile_HLD.html#reset-strategy">8.2 Reset Strategy</a></li>
<li class="toctree-l3"><a class="reference internal" href="Keraunos_PCIe_Tile_HLD.html#power-on-initialization">8.3 Power-On Initialization</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="Keraunos_PCIe_Tile_HLD.html#configuration-and-control">9. Configuration and Control</a><ul>
<li class="toctree-l3"><a class="reference internal" href="Keraunos_PCIe_Tile_HLD.html#tile-initialization-sequence">9.1 Tile Initialization Sequence</a></li>
<li class="toctree-l3"><a class="reference internal" href="Keraunos_PCIe_Tile_HLD.html#runtime-control">9.2 Runtime Control</a></li>
<li class="toctree-l3"><a class="reference internal" href="Keraunos_PCIe_Tile_HLD.html#status-monitoring">9.3 Status Monitoring</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="Keraunos_PCIe_Tile_HLD.html#references">10. References</a><ul>
<li class="toctree-l3"><a class="reference internal" href="Keraunos_PCIe_Tile_HLD.html#related-documents">10.1 Related Documents</a></li>
<li class="toctree-l3"><a class="reference internal" href="Keraunos_PCIe_Tile_HLD.html#source-code-organization">10.2 Source Code Organization</a></li>
<li class="toctree-l3"><a class="reference internal" href="Keraunos_PCIe_Tile_HLD.html#key-design-decisions">10.3 Key Design Decisions</a></li>
<li class="toctree-l3"><a class="reference internal" href="Keraunos_PCIe_Tile_HLD.html#known-limitations-and-findings">10.4 Known Limitations and Findings</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="Keraunos_PCIe_Tile_HLD.html#appendix-a-signal-timing-diagrams">Appendix A: Signal Timing Diagrams</a><ul>
<li class="toctree-l3"><a class="reference internal" href="Keraunos_PCIe_Tile_HLD.html#a-1-cii-interrupt-timing">A.1 CII Interrupt Timing</a></li>
<li class="toctree-l3"><a class="reference internal" href="Keraunos_PCIe_Tile_HLD.html#a-2-isolation-sequence">A.2 Isolation Sequence</a></li>
<li class="toctree-l3"><a class="reference internal" href="Keraunos_PCIe_Tile_HLD.html#a-3-cold-reset-cycle">A.3 Cold Reset Cycle</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="Keraunos_PCIe_Tile_HLD.html#appendix-b-address-decode-examples">Appendix B: Address Decode Examples</a><ul>
<li class="toctree-l3"><a class="reference internal" href="Keraunos_PCIe_Tile_HLD.html#b-1-inbound-tlb-translation-tlb-sys-in0">B.1 Inbound TLB Translation (TLB Sys In0)</a></li>
<li class="toctree-l3"><a class="reference internal" href="Keraunos_PCIe_Tile_HLD.html#b-2-status-register-access">B.2 Status Register Access</a></li>
<li class="toctree-l3"><a class="reference internal" href="Keraunos_PCIe_Tile_HLD.html#b-3-smn-config-write-address-passthrough-issue">B.3 SMN Config Write (Address Passthrough Issue)</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="Keraunos_PCIe_Tile_HLD.html#appendix-c-test-coverage-summary">Appendix C: Test Coverage Summary</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="Keraunos_PCIE_Tile_SystemC_Design_Document.html">Keraunos PCIE Tile SystemC/TLM2.0 Design Document</a><ul>
<li class="toctree-l2"><a class="reference internal" href="Keraunos_PCIE_Tile_SystemC_Design_Document.html#sphinx-setup-instructions">Sphinx Setup Instructions</a><ul>
<li class="toctree-l3"><a class="reference internal" href="Keraunos_PCIE_Tile_SystemC_Design_Document.html#install-required-extensions">1. Install Required Extensions</a></li>
<li class="toctree-l3"><a class="reference internal" href="Keraunos_PCIE_Tile_SystemC_Design_Document.html#configure-conf-py">2. Configure <code class="docutils literal notranslate"><span class="pre">conf.py</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="Keraunos_PCIE_Tile_SystemC_Design_Document.html#build-html-documentation">3. Build HTML Documentation</a></li>
<li class="toctree-l3"><a class="reference internal" href="Keraunos_PCIE_Tile_SystemC_Design_Document.html#alternative-use-make">4. Alternative: Use make</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="Keraunos_PCIE_Tile_SystemC_Design_Document.html#key-implementation-features">⭐ Key Implementation Features</a></li>
<li class="toctree-l2"><a class="reference internal" href="Keraunos_PCIE_Tile_SystemC_Design_Document.html#table-of-contents">Table of Contents</a></li>
<li class="toctree-l2"><a class="reference internal" href="Keraunos_PCIE_Tile_SystemC_Design_Document.html#introduction">1. Introduction</a><ul>
<li class="toctree-l3"><a class="reference internal" href="Keraunos_PCIE_Tile_SystemC_Design_Document.html#purpose">1.1 Purpose</a></li>
<li class="toctree-l3"><a class="reference internal" href="Keraunos_PCIE_Tile_SystemC_Design_Document.html#scope">1.2 Scope</a></li>
<li class="toctree-l3"><a class="reference internal" href="Keraunos_PCIE_Tile_SystemC_Design_Document.html#references">1.3 References</a></li>
<li class="toctree-l3"><a class="reference internal" href="Keraunos_PCIE_Tile_SystemC_Design_Document.html#implementation-version">1.4 Implementation Version</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="Keraunos_PCIE_Tile_SystemC_Design_Document.html#refactored-architecture-overview-new">1.5 Refactored Architecture Overview ⭐ NEW</a><ul>
<li class="toctree-l3"><a class="reference internal" href="Keraunos_PCIE_Tile_SystemC_Design_Document.html#why-refactoring-was-necessary">1.5.1 Why Refactoring Was Necessary</a></li>
<li class="toctree-l3"><a class="reference internal" href="Keraunos_PCIE_Tile_SystemC_Design_Document.html#refactored-architecture-pattern">1.5.2 Refactored Architecture Pattern</a><ul>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_SystemC_Design_Document.html#original-design-socket-based">Original Design (Socket-Based):</a></li>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_SystemC_Design_Document.html#refactored-design-function-based">Refactored Design (Function-Based):</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="Keraunos_PCIE_Tile_SystemC_Design_Document.html#function-callback-communication-pattern">1.5.3 Function Callback Communication Pattern</a><ul>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_SystemC_Design_Document.html#callback-type-definition">Callback Type Definition:</a></li>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_SystemC_Design_Document.html#setting-up-callbacks-wire-components">Setting Up Callbacks (Wire Components):</a></li>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_SystemC_Design_Document.html#benefits-of-function-callbacks">Benefits of Function Callbacks:</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="Keraunos_PCIE_Tile_SystemC_Design_Document.html#smart-pointer-memory-management">1.5.4 Smart Pointer Memory Management</a></li>
<li class="toctree-l3"><a class="reference internal" href="Keraunos_PCIE_Tile_SystemC_Design_Document.html#scml2-memory-integration">1.5.5 SCML2 Memory Integration</a></li>
<li class="toctree-l3"><a class="reference internal" href="Keraunos_PCIE_Tile_SystemC_Design_Document.html#temporal-decoupling-support">1.5.6 Temporal Decoupling Support</a></li>
<li class="toctree-l3"><a class="reference internal" href="Keraunos_PCIE_Tile_SystemC_Design_Document.html#modern-c-best-practices-applied">1.5.7 Modern C++ Best Practices Applied</a></li>
<li class="toctree-l3"><a class="reference internal" href="Keraunos_PCIE_Tile_SystemC_Design_Document.html#file-organization">1.5.8 File Organization</a></li>
<li class="toctree-l3"><a class="reference internal" href="Keraunos_PCIE_Tile_SystemC_Design_Document.html#component-communication-pattern">1.5.9 Component Communication Pattern</a></li>
<li class="toctree-l3"><a class="reference internal" href="Keraunos_PCIE_Tile_SystemC_Design_Document.html#null-safety-pattern">1.5.10 Null Safety Pattern</a></li>
<li class="toctree-l3"><a class="reference internal" href="Keraunos_PCIE_Tile_SystemC_Design_Document.html#performance-characteristics">1.5.11 Performance Characteristics</a></li>
<li class="toctree-l3"><a class="reference internal" href="Keraunos_PCIE_Tile_SystemC_Design_Document.html#code-example-complete-transaction-path">1.5.12 Code Example - Complete Transaction Path</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="Keraunos_PCIE_Tile_SystemC_Design_Document.html#system-overview">2. System Overview</a><ul>
<li class="toctree-l3"><a class="reference internal" href="Keraunos_PCIE_Tile_SystemC_Design_Document.html#keraunos-pcie-tile-context">2.1 Keraunos PCIE Tile Context</a></li>
<li class="toctree-l3"><a class="reference internal" href="Keraunos_PCIE_Tile_SystemC_Design_Document.html#modeled-components">2.2 Modeled Components</a></li>
<li class="toctree-l3"><a class="reference internal" href="Keraunos_PCIE_Tile_SystemC_Design_Document.html#design-objectives">2.3 Design Objectives</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="Keraunos_PCIE_Tile_SystemC_Design_Document.html#architecture">3. Architecture</a><ul>
<li class="toctree-l3"><a class="reference internal" href="Keraunos_PCIE_Tile_SystemC_Design_Document.html#overall-structure">3.1 Overall Structure</a></li>
<li class="toctree-l3"><a class="reference internal" href="Keraunos_PCIE_Tile_SystemC_Design_Document.html#component-hierarchy">3.2 Component Hierarchy</a></li>
<li class="toctree-l3"><a class="reference internal" href="Keraunos_PCIE_Tile_SystemC_Design_Document.html#data-flow">3.3 Data Flow</a><ul>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_SystemC_Design_Document.html#inbound-traffic-flow">Inbound Traffic Flow</a></li>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_SystemC_Design_Document.html#outbound-traffic-flow">Outbound Traffic Flow</a></li>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_SystemC_Design_Document.html#msi-flow">MSI Flow</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="Keraunos_PCIE_Tile_SystemC_Design_Document.html#component-design">4. Component Design</a><ul>
<li class="toctree-l3"><a class="reference internal" href="Keraunos_PCIE_Tile_SystemC_Design_Document.html#tlb-common-structures">4.1 TLB Common Structures</a><ul>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_SystemC_Design_Document.html#tlbentry-structure">4.1.1 TlbEntry Structure</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="Keraunos_PCIE_Tile_SystemC_Design_Document.html#inbound-tlb-design">4.2 Inbound TLB Design</a><ul>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_SystemC_Design_Document.html#overview-and-use-cases">4.2.1 Overview and Use Cases</a></li>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_SystemC_Design_Document.html#tlbsysin0-system-management-inbound-tlb">4.2.2 TLBSysIn0 - System Management Inbound TLB</a></li>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_SystemC_Design_Document.html#tlbappin0-application-inbound-tlb-bar0-1">4.2.3 TLBAppIn0 - Application Inbound TLB (BAR0/1)</a></li>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_SystemC_Design_Document.html#tlbappin1-application-inbound-tlb-bar4-5">4.2.4 TLBAppIn1 - Application Inbound TLB (BAR4/5)</a></li>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_SystemC_Design_Document.html#inbound-tlb-translation-flow">4.2.5 Inbound TLB Translation Flow</a></li>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_SystemC_Design_Document.html#address-translation-examples">4.2.6 Address Translation Examples</a></li>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_SystemC_Design_Document.html#axuser-field-format">4.2.7 AxUSER Field Format</a></li>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_SystemC_Design_Document.html#configuration-and-initialization">4.2.8 Configuration and Initialization</a></li>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_SystemC_Design_Document.html#error-handling">4.2.9 Error Handling</a></li>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_SystemC_Design_Document.html#integration-with-system">4.2.10 Integration with System</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="Keraunos_PCIE_Tile_SystemC_Design_Document.html#outbound-tlb-design">4.3 Outbound TLB Design</a><ul>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_SystemC_Design_Document.html#id1">4.3.1 Overview and Use Cases</a></li>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_SystemC_Design_Document.html#tlbsysout0-system-management-outbound-tlb">4.3.2 TLBSysOut0 - System Management Outbound TLB</a></li>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_SystemC_Design_Document.html#tlbappout0-application-outbound-tlb-high-address">4.3.3 TLBAppOut0 - Application Outbound TLB (High Address)</a></li>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_SystemC_Design_Document.html#tlbappout1-application-outbound-tlb-dbi-access">4.3.4 TLBAppOut1 - Application Outbound TLB (DBI Access)</a></li>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_SystemC_Design_Document.html#outbound-tlb-translation-flow">4.3.5 Outbound TLB Translation Flow</a></li>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_SystemC_Design_Document.html#id2">4.3.6 Address Translation Examples</a></li>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_SystemC_Design_Document.html#id3">4.3.7 Configuration and Initialization</a></li>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_SystemC_Design_Document.html#id4">4.3.8 Error Handling</a></li>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_SystemC_Design_Document.html#id5">4.3.9 Integration with System</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="Keraunos_PCIE_Tile_SystemC_Design_Document.html#msi-relay-unit-design">4.4 MSI Relay Unit Design</a><ul>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_SystemC_Design_Document.html#overview">4.4.1 Overview</a></li>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_SystemC_Design_Document.html#id6">4.4.2 Architecture</a></li>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_SystemC_Design_Document.html#msi-x-table-entry">4.4.3 MSI-X Table Entry</a></li>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_SystemC_Design_Document.html#pending-bit-array-pba">4.4.4 Pending Bit Array (PBA)</a></li>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_SystemC_Design_Document.html#msi-thrower-logic">4.4.5 MSI Thrower Logic</a></li>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_SystemC_Design_Document.html#register-map">4.4.6 Register Map</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="Keraunos_PCIE_Tile_SystemC_Design_Document.html#intra-tile-fabric-switch-design">4.5 Intra-Tile Fabric Switch Design</a><ul>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_SystemC_Design_Document.html#noc-pcie-switch">4.5.1 NOC-PCIE Switch</a></li>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_SystemC_Design_Document.html#noc-io-switch">4.5.2 NOC-IO Switch</a></li>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_SystemC_Design_Document.html#smn-io-switch">4.5.3 SMN-IO Switch</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="Keraunos_PCIE_Tile_SystemC_Design_Document.html#system-information-interface-sii-block">4.6 System Information Interface (SII) Block</a><ul>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_SystemC_Design_Document.html#id7">4.6.1 Overview</a></li>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_SystemC_Design_Document.html#architecture-and-operation">4.6.2 Architecture and Operation</a></li>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_SystemC_Design_Document.html#cii-tracking-implementation">4.6.3 CII Tracking Implementation</a></li>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_SystemC_Design_Document.html#id8">4.6.4 Register Map</a></li>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_SystemC_Design_Document.html#clock-domain-crossing">4.6.5 Clock Domain Crossing</a></li>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_SystemC_Design_Document.html#interrupt-generation-and-routing">4.6.6 Interrupt Generation and Routing</a></li>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_SystemC_Design_Document.html#interface-specification">4.6.7 Interface Specification</a></li>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_SystemC_Design_Document.html#implementation-details">4.6.8 Implementation Details</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="Keraunos_PCIE_Tile_SystemC_Design_Document.html#configuration-register-block">4.7 Configuration Register Block</a><ul>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_SystemC_Design_Document.html#id9">4.7.1 Overview</a></li>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_SystemC_Design_Document.html#status-registers">4.7.2 Status Registers</a></li>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_SystemC_Design_Document.html#isolation-behavior">4.7.3 Isolation Behavior</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="Keraunos_PCIE_Tile_SystemC_Design_Document.html#clock-reset-control-module">4.8 Clock &amp; Reset Control Module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_SystemC_Design_Document.html#id10">4.8.1 Overview</a></li>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_SystemC_Design_Document.html#clock-domains">4.8.2 Clock Domains</a></li>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_SystemC_Design_Document.html#reset-sequence">4.8.3 Reset Sequence</a></li>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_SystemC_Design_Document.html#interface">4.8.4 Interface</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="Keraunos_PCIE_Tile_SystemC_Design_Document.html#pll-cgm-clock-generation-module">4.9 PLL/CGM (Clock Generation Module)</a><ul>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_SystemC_Design_Document.html#id11">4.9.1 Overview</a></li>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_SystemC_Design_Document.html#pll-lock">4.9.2 PLL Lock</a></li>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_SystemC_Design_Document.html#id12">4.9.3 Interface</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="Keraunos_PCIE_Tile_SystemC_Design_Document.html#pcie-phy-model">4.10 PCIE PHY Model</a><ul>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_SystemC_Design_Document.html#id13">4.10.1 Overview</a></li>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_SystemC_Design_Document.html#features">4.10.2 Features</a></li>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_SystemC_Design_Document.html#id14">4.10.3 Interface</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="Keraunos_PCIE_Tile_SystemC_Design_Document.html#external-interface-modules">4.11 External Interface Modules</a><ul>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_SystemC_Design_Document.html#noc-n-interface">4.11.1 NOC-N Interface</a></li>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_SystemC_Design_Document.html#smn-n-interface">4.11.2 SMN-N Interface</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="Keraunos_PCIE_Tile_SystemC_Design_Document.html#top-level-keraunos-pcie-tile-module">4.12 Top-Level Keraunos PCIE Tile Module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_SystemC_Design_Document.html#id15">4.12.1 Overview</a></li>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_SystemC_Design_Document.html#external-interfaces">4.12.2 External Interfaces</a></li>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_SystemC_Design_Document.html#internal-connections">4.12.3 Internal Connections</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="Keraunos_PCIE_Tile_SystemC_Design_Document.html#interface-specifications">5. Interface Specifications</a><ul>
<li class="toctree-l3"><a class="reference internal" href="Keraunos_PCIE_Tile_SystemC_Design_Document.html#tlm2-0-interfaces">5.1 TLM2.0 Interfaces</a><ul>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_SystemC_Design_Document.html#axi4-target-socket-inbound-tlbs">5.1.1 AXI4 Target Socket (Inbound TLBs)</a></li>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_SystemC_Design_Document.html#axi4-initiator-socket-all-tlbs">5.1.2 AXI4 Initiator Socket (All TLBs)</a></li>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_SystemC_Design_Document.html#apb-target-socket-configuration">5.1.3 APB Target Socket (Configuration)</a></li>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_SystemC_Design_Document.html#axi4-lite-initiator-socket-msi-relay">5.1.4 AXI4-Lite Initiator Socket (MSI Relay)</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="Keraunos_PCIE_Tile_SystemC_Design_Document.html#systemc-signals">5.2 SystemC Signals</a><ul>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_SystemC_Design_Document.html#control-signals">5.2.1 Control Signals</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="Keraunos_PCIE_Tile_SystemC_Design_Document.html#address-translation-interfaces">5.3 Address Translation Interfaces</a><ul>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_SystemC_Design_Document.html#tlb-lookup-methods">5.3.1 TLB Lookup Methods</a></li>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_SystemC_Design_Document.html#configuration-methods">5.3.2 Configuration Methods</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="Keraunos_PCIE_Tile_SystemC_Design_Document.html#id16">6. Implementation Details</a><ul>
<li class="toctree-l3"><a class="reference internal" href="Keraunos_PCIE_Tile_SystemC_Design_Document.html#address-translation-algorithms">6.1 Address Translation Algorithms</a><ul>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_SystemC_Design_Document.html#inbound-translation-tlbsysin0">6.1.1 Inbound Translation (TLBSysIn0)</a></li>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_SystemC_Design_Document.html#outbound-translation-tlbappout0">6.1.2 Outbound Translation (TLBAppOut0)</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="Keraunos_PCIE_Tile_SystemC_Design_Document.html#id17">6.2 Error Handling</a><ul>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_SystemC_Design_Document.html#invalid-tlb-entry">6.2.1 Invalid TLB Entry</a></li>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_SystemC_Design_Document.html#out-of-range-index">6.2.2 Out-of-Range Index</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="Keraunos_PCIE_Tile_SystemC_Design_Document.html#msi-relay-unit-state-machine">6.3 MSI Relay Unit State Machine</a></li>
<li class="toctree-l3"><a class="reference internal" href="Keraunos_PCIE_Tile_SystemC_Design_Document.html#threading-model">6.4 Threading Model</a></li>
<li class="toctree-l3"><a class="reference internal" href="Keraunos_PCIE_Tile_SystemC_Design_Document.html#memory-modeling">6.5 Memory Modeling</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="Keraunos_PCIE_Tile_SystemC_Design_Document.html#modeling-approach">7. Modeling Approach</a><ul>
<li class="toctree-l3"><a class="reference internal" href="Keraunos_PCIE_Tile_SystemC_Design_Document.html#abstraction-level">7.1 Abstraction Level</a></li>
<li class="toctree-l3"><a class="reference internal" href="Keraunos_PCIE_Tile_SystemC_Design_Document.html#scml2-usage">7.2 SCML2 Usage</a><ul>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_SystemC_Design_Document.html#socket-type-selection-rationale">7.2.1 Socket Type Selection Rationale</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="Keraunos_PCIE_Tile_SystemC_Design_Document.html#tlm2-0-compliance">7.3 TLM2.0 Compliance</a></li>
<li class="toctree-l3"><a class="reference internal" href="Keraunos_PCIE_Tile_SystemC_Design_Document.html#design-patterns">7.4 Design Patterns</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="Keraunos_PCIE_Tile_SystemC_Design_Document.html#performance-considerations">8. Performance Considerations</a><ul>
<li class="toctree-l3"><a class="reference internal" href="Keraunos_PCIE_Tile_SystemC_Design_Document.html#simulation-performance">8.1 Simulation Performance</a></li>
<li class="toctree-l3"><a class="reference internal" href="Keraunos_PCIE_Tile_SystemC_Design_Document.html#optimization-opportunities">8.2 Optimization Opportunities</a></li>
<li class="toctree-l3"><a class="reference internal" href="Keraunos_PCIE_Tile_SystemC_Design_Document.html#scalability">8.3 Scalability</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="Keraunos_PCIE_Tile_SystemC_Design_Document.html#dependencies-and-requirements">9. Dependencies and Requirements</a><ul>
<li class="toctree-l3"><a class="reference internal" href="Keraunos_PCIE_Tile_SystemC_Design_Document.html#software-dependencies">9.1 Software Dependencies</a></li>
<li class="toctree-l3"><a class="reference internal" href="Keraunos_PCIE_Tile_SystemC_Design_Document.html#hardware-dependencies">9.2 Hardware Dependencies</a></li>
<li class="toctree-l3"><a class="reference internal" href="Keraunos_PCIE_Tile_SystemC_Design_Document.html#integration-requirements">9.3 Integration Requirements</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="Keraunos_PCIE_Tile_SystemC_Design_Document.html#detailed-implementation-architecture">9. Detailed Implementation Architecture</a><ul>
<li class="toctree-l3"><a class="reference internal" href="Keraunos_PCIE_Tile_SystemC_Design_Document.html#class-hierarchy-and-relationships">9.1 Class Hierarchy and Relationships</a><ul>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_SystemC_Design_Document.html#top-level-module-only-sc-module">Top-Level Module (Only sc_module):</a></li>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_SystemC_Design_Document.html#internal-component-pattern">Internal Component Pattern:</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="Keraunos_PCIE_Tile_SystemC_Design_Document.html#communication-architecture">9.2 Communication Architecture</a><ul>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_SystemC_Design_Document.html#transaction-flow-pattern">Transaction Flow Pattern:</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="Keraunos_PCIE_Tile_SystemC_Design_Document.html#memory-management-architecture">9.3 Memory Management Architecture</a><ul>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_SystemC_Design_Document.html#smart-pointer-ownership-tree">Smart Pointer Ownership Tree:</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="Keraunos_PCIE_Tile_SystemC_Design_Document.html#callback-wiring-implementation">9.4 Callback Wiring Implementation</a><ul>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_SystemC_Design_Document.html#complete-wiring-example">Complete Wiring Example:</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="Keraunos_PCIE_Tile_SystemC_Design_Document.html#scml2-memory-usage-pattern">9.5 SCML2 Memory Usage Pattern</a><ul>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_SystemC_Design_Document.html#configuration-storage-implementation">Configuration Storage Implementation:</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="Keraunos_PCIE_Tile_SystemC_Design_Document.html#component-lifecycle">9.6 Component Lifecycle</a><ul>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_SystemC_Design_Document.html#initialization-sequence">Initialization Sequence:</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="Keraunos_PCIE_Tile_SystemC_Design_Document.html#transaction-processing-flow">9.7 Transaction Processing Flow</a><ul>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_SystemC_Design_Document.html#inbound-pcie-transaction-example">Inbound PCIe Transaction Example:</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="Keraunos_PCIE_Tile_SystemC_Design_Document.html#routing-decision-implementation">9.8 Routing Decision Implementation</a><ul>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_SystemC_Design_Document.html#noc-pcie-switch-routing-logic">NOC-PCIE Switch Routing Logic:</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="Keraunos_PCIE_Tile_SystemC_Design_Document.html#tlb-translation-implementation">9.9 TLB Translation Implementation</a><ul>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_SystemC_Design_Document.html#translation-algorithm">Translation Algorithm:</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="Keraunos_PCIE_Tile_SystemC_Design_Document.html#error-handling-strategy">9.10 Error Handling Strategy</a><ul>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_SystemC_Design_Document.html#layered-error-response">Layered Error Response:</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="Keraunos_PCIE_Tile_SystemC_Design_Document.html#configuration-register-implementation">9.11 Configuration Register Implementation</a><ul>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_SystemC_Design_Document.html#register-access-pattern">Register Access Pattern:</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="Keraunos_PCIE_Tile_SystemC_Design_Document.html#implementation-guide">10. Implementation Guide</a><ul>
<li class="toctree-l3"><a class="reference internal" href="Keraunos_PCIE_Tile_SystemC_Design_Document.html#building-the-design">10.1 Building the Design</a><ul>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_SystemC_Design_Document.html#prerequisites">Prerequisites:</a></li>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_SystemC_Design_Document.html#build-commands">Build Commands:</a></li>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_SystemC_Design_Document.html#build-output">Build Output:</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="Keraunos_PCIE_Tile_SystemC_Design_Document.html#running-tests">10.2 Running Tests</a><ul>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_SystemC_Design_Document.html#unit-tests-auto-generated">Unit Tests (Auto-Generated):</a></li>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_SystemC_Design_Document.html#test-coverage">Test Coverage:</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="Keraunos_PCIE_Tile_SystemC_Design_Document.html#adding-new-components">10.3 Adding New Components</a><ul>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_SystemC_Design_Document.html#pattern-for-c-class-components">Pattern for C++ Class Components:</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="Keraunos_PCIE_Tile_SystemC_Design_Document.html#debugging-and-troubleshooting">10.4 Debugging and Troubleshooting</a><ul>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_SystemC_Design_Document.html#common-issues-and-solutions">Common Issues and Solutions:</a></li>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_SystemC_Design_Document.html#debug-tools">Debug Tools:</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="Keraunos_PCIE_Tile_SystemC_Design_Document.html#performance-tuning">10.5 Performance Tuning</a><ul>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_SystemC_Design_Document.html#temporal-decoupling-configuration">Temporal Decoupling Configuration:</a></li>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_SystemC_Design_Document.html#adding-timing-annotations">Adding Timing Annotations:</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="Keraunos_PCIE_Tile_SystemC_Design_Document.html#test-development-guide">10.6 Test Development Guide</a><ul>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_SystemC_Design_Document.html#adding-new-test-cases">Adding New Test Cases:</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="Keraunos_PCIE_Tile_SystemC_Design_Document.html#configuration-management">10.7 Configuration Management</a><ul>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_SystemC_Design_Document.html#tlb-configuration-example">TLB Configuration Example:</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="Keraunos_PCIE_Tile_SystemC_Design_Document.html#integration-with-vdk-platform">10.8 Integration with VDK Platform</a><ul>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_SystemC_Design_Document.html#module-instantiation-in-platform">Module Instantiation in Platform:</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="Keraunos_PCIE_Tile_SystemC_Design_Document.html#memory-management-best-practices">10.9 Memory Management Best Practices</a><ul>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_SystemC_Design_Document.html#raii-pattern-already-applied">RAII Pattern (Already Applied):</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="Keraunos_PCIE_Tile_SystemC_Design_Document.html#coding-standards-applied">10.10 Coding Standards Applied</a><ul>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_SystemC_Design_Document.html#modern-c-17-features-used">Modern C++17 Features Used:</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="Keraunos_PCIE_Tile_SystemC_Design_Document.html#test-infrastructure">11. Test Infrastructure</a><ul>
<li class="toctree-l3"><a class="reference internal" href="Keraunos_PCIE_Tile_SystemC_Design_Document.html#test-framework-overview">11.1 Test Framework Overview</a></li>
<li class="toctree-l3"><a class="reference internal" href="Keraunos_PCIE_Tile_SystemC_Design_Document.html#test-categories-33-tests">11.2 Test Categories (33 Tests)</a></li>
<li class="toctree-l3"><a class="reference internal" href="Keraunos_PCIE_Tile_SystemC_Design_Document.html#test-execution-results">11.3 Test Execution Results</a></li>
<li class="toctree-l3"><a class="reference internal" href="Keraunos_PCIE_Tile_SystemC_Design_Document.html#test-api-examples">11.4 Test API Examples</a></li>
<li class="toctree-l3"><a class="reference internal" href="Keraunos_PCIE_Tile_SystemC_Design_Document.html#coverage-goals">11.5 Coverage Goals</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="Keraunos_PCIE_Tile_SystemC_Design_Document.html#migration-from-original-design">12. Migration from Original Design</a><ul>
<li class="toctree-l3"><a class="reference internal" href="Keraunos_PCIE_Tile_SystemC_Design_Document.html#for-developers-familiar-with-original">12.1 For Developers Familiar with Original</a></li>
<li class="toctree-l3"><a class="reference internal" href="Keraunos_PCIE_Tile_SystemC_Design_Document.html#api-migration-guide">12.2 API Migration Guide</a></li>
<li class="toctree-l3"><a class="reference internal" href="Keraunos_PCIE_Tile_SystemC_Design_Document.html#backward-compatibility-notes">12.3 Backward Compatibility Notes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="Keraunos_PCIE_Tile_SystemC_Design_Document.html#known-limitations-and-future-work">13. Known Limitations and Future Work</a><ul>
<li class="toctree-l3"><a class="reference internal" href="Keraunos_PCIE_Tile_SystemC_Design_Document.html#current-limitations">13.1 Current Limitations</a></li>
<li class="toctree-l3"><a class="reference internal" href="Keraunos_PCIE_Tile_SystemC_Design_Document.html#future-enhancements">13.2 Future Enhancements</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="Keraunos_PCIE_Tile_SystemC_Design_Document.html#lessons-learned-and-best-practices">14. Lessons Learned and Best Practices</a><ul>
<li class="toctree-l3"><a class="reference internal" href="Keraunos_PCIE_Tile_SystemC_Design_Document.html#architecture-decisions">14.1 Architecture Decisions</a></li>
<li class="toctree-l3"><a class="reference internal" href="Keraunos_PCIE_Tile_SystemC_Design_Document.html#design-patterns-applied">14.2 Design Patterns Applied</a></li>
<li class="toctree-l3"><a class="reference internal" href="Keraunos_PCIE_Tile_SystemC_Design_Document.html#recommendations-for-similar-projects">14.3 Recommendations for Similar Projects</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="Keraunos_PCIE_Tile_SystemC_Design_Document.html#appendix-a-implemented-components-summary">Appendix A: Implemented Components Summary</a><ul>
<li class="toctree-l3"><a class="reference internal" href="Keraunos_PCIE_Tile_SystemC_Design_Document.html#a-1-complete-component-list">A.1 Complete Component List</a></li>
<li class="toctree-l3"><a class="reference internal" href="Keraunos_PCIE_Tile_SystemC_Design_Document.html#a-2-component-statistics">A.2 Component Statistics</a></li>
<li class="toctree-l3"><a class="reference internal" href="Keraunos_PCIE_Tile_SystemC_Design_Document.html#a-3-scml-compliance">A.3 SCML Compliance</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="Keraunos_PCIE_Tile_SystemC_Design_Document.html#appendix-b-address-map-summary">Appendix B: Address Map Summary</a><ul>
<li class="toctree-l3"><a class="reference internal" href="Keraunos_PCIE_Tile_SystemC_Design_Document.html#b-1-tlb-configuration-space">B.1 TLB Configuration Space</a></li>
<li class="toctree-l3"><a class="reference internal" href="Keraunos_PCIE_Tile_SystemC_Design_Document.html#b-2-msi-relay-unit-address-map">B.2 MSI Relay Unit Address Map</a></li>
<li class="toctree-l3"><a class="reference internal" href="Keraunos_PCIE_Tile_SystemC_Design_Document.html#b-3-sii-block-address-map">B.3 SII Block Address Map</a></li>
<li class="toctree-l3"><a class="reference internal" href="Keraunos_PCIE_Tile_SystemC_Design_Document.html#b-4-config-register-block-address-map">B.4 Config Register Block Address Map</a></li>
<li class="toctree-l3"><a class="reference internal" href="Keraunos_PCIE_Tile_SystemC_Design_Document.html#b-5-smn-io-switch-address-map">B.5 SMN-IO Switch Address Map</a></li>
<li class="toctree-l3"><a class="reference internal" href="Keraunos_PCIE_Tile_SystemC_Design_Document.html#b-6-noc-io-switch-address-map">B.6 NOC-IO Switch Address Map</a></li>
<li class="toctree-l3"><a class="reference internal" href="Keraunos_PCIE_Tile_SystemC_Design_Document.html#b-7-noc-pcie-switch-routing-map">B.7 NOC-PCIE Switch Routing Map</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="Keraunos_PCIE_Tile_SystemC_Design_Document.html#appendix-c-acronyms-and-abbreviations">Appendix C: Acronyms and Abbreviations</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="Keraunos_PCIE_Tile_Testplan.html">Keraunos PCIE Tile SystemC/TLM2.0 Testplan</a><ul>
<li class="toctree-l2"><a class="reference internal" href="Keraunos_PCIE_Tile_Testplan.html#table-of-contents">Table of Contents</a></li>
<li class="toctree-l2"><a class="reference internal" href="Keraunos_PCIE_Tile_Testplan.html#introduction">1. Introduction</a><ul>
<li class="toctree-l3"><a class="reference internal" href="Keraunos_PCIE_Tile_Testplan.html#purpose">1.1 Purpose</a></li>
<li class="toctree-l3"><a class="reference internal" href="Keraunos_PCIE_Tile_Testplan.html#scope">1.2 Scope</a></li>
<li class="toctree-l3"><a class="reference internal" href="Keraunos_PCIE_Tile_Testplan.html#test-objectives">1.3 Test Objectives</a></li>
<li class="toctree-l3"><a class="reference internal" href="Keraunos_PCIE_Tile_Testplan.html#references">1.4 References</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="Keraunos_PCIE_Tile_Testplan.html#test-traceability-matrix">1.5 Test Traceability Matrix</a></li>
<li class="toctree-l2"><a class="reference internal" href="Keraunos_PCIE_Tile_Testplan.html#test-environment">2. Test Environment</a><ul>
<li class="toctree-l3"><a class="reference internal" href="Keraunos_PCIE_Tile_Testplan.html#testbench-structure">2.1 Testbench Structure</a></li>
<li class="toctree-l3"><a class="reference internal" href="Keraunos_PCIE_Tile_Testplan.html#test-components">2.2 Test Components</a></li>
<li class="toctree-l3"><a class="reference internal" href="Keraunos_PCIE_Tile_Testplan.html#test-tools">2.3 Test Tools</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="Keraunos_PCIE_Tile_Testplan.html#test-strategy">3. Test Strategy</a><ul>
<li class="toctree-l3"><a class="reference internal" href="Keraunos_PCIE_Tile_Testplan.html#test-levels">3.1 Test Levels</a></li>
<li class="toctree-l3"><a class="reference internal" href="Keraunos_PCIE_Tile_Testplan.html#test-methodology">3.2 Test Methodology</a></li>
<li class="toctree-l3"><a class="reference internal" href="Keraunos_PCIE_Tile_Testplan.html#test-phases">3.3 Test Phases</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="Keraunos_PCIE_Tile_Testplan.html#inbound-tlb-test-cases">4. Inbound TLB Test Cases</a><ul>
<li class="toctree-l3"><a class="reference internal" href="Keraunos_PCIE_Tile_Testplan.html#tlbsysin0-test-cases">4.1 TLBSysIn0 Test Cases</a><ul>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_Testplan.html#tc-inbound-sys-001-basic-address-translation">TC_INBOUND_SYS_001: Basic Address Translation</a></li>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_Testplan.html#tc-inbound-sys-002-invalid-entry-detection">TC_INBOUND_SYS_002: Invalid Entry Detection</a></li>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_Testplan.html#tc-inbound-sys-003-index-calculation">TC_INBOUND_SYS_003: Index Calculation</a></li>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_Testplan.html#tc-inbound-sys-004-page-boundary-crossing">TC_INBOUND_SYS_004: Page Boundary Crossing</a></li>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_Testplan.html#tc-inbound-sys-005-axuser-field-mapping">TC_INBOUND_SYS_005: AxUSER Field Mapping</a></li>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_Testplan.html#tc-inbound-sys-006-system-ready-bypass">TC_INBOUND_SYS_006: System Ready Bypass</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="Keraunos_PCIE_Tile_Testplan.html#tlbappin0-test-cases">4.2 TLBAppIn0 Test Cases</a><ul>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_Testplan.html#tc-inbound-app0-001-bar0-1-translation">TC_INBOUND_APP0_001: BAR0/1 Translation</a></li>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_Testplan.html#tc-inbound-app0-002-multiple-instance-support">TC_INBOUND_APP0_002: Multiple Instance Support</a></li>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_Testplan.html#tc-inbound-app0-003-16mb-page-size">TC_INBOUND_APP0_003: 16MB Page Size</a></li>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_Testplan.html#tc-inbound-app0-004-non-cacheable-and-qosid">TC_INBOUND_APP0_004: Non-Cacheable and QoSID</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="Keraunos_PCIE_Tile_Testplan.html#tlbappin1-test-cases">4.3 TLBAppIn1 Test Cases</a><ul>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_Testplan.html#tc-inbound-app1-001-bar4-5-translation">TC_INBOUND_APP1_001: BAR4/5 Translation</a></li>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_Testplan.html#tc-inbound-app1-002-8gb-page-size">TC_INBOUND_APP1_002: 8GB Page Size</a></li>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_Testplan.html#tc-inbound-app1-003-dram-mapping">TC_INBOUND_APP1_003: DRAM Mapping</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="Keraunos_PCIE_Tile_Testplan.html#outbound-tlb-test-cases">5. Outbound TLB Test Cases</a><ul>
<li class="toctree-l3"><a class="reference internal" href="Keraunos_PCIE_Tile_Testplan.html#tlbsysout0-test-cases">5.1 TLBSysOut0 Test Cases</a><ul>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_Testplan.html#tc-outbound-sys-001-dbi-access-translation">TC_OUTBOUND_SYS_001: DBI Access Translation</a></li>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_Testplan.html#tc-outbound-sys-002-64kb-page-size">TC_OUTBOUND_SYS_002: 64KB Page Size</a></li>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_Testplan.html#tc-outbound-sys-003-all-16-entries">TC_OUTBOUND_SYS_003: All 16 Entries</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="Keraunos_PCIE_Tile_Testplan.html#tlbappout0-test-cases">5.2 TLBAppOut0 Test Cases</a><ul>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_Testplan.html#tc-outbound-app0-001-high-address-translation-256tb">TC_OUTBOUND_APP0_001: High Address Translation (&gt;=256TB)</a></li>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_Testplan.html#tc-outbound-app0-002-address-range-check">TC_OUTBOUND_APP0_002: Address Range Check</a></li>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_Testplan.html#tc-outbound-app0-003-16tb-page-size">TC_OUTBOUND_APP0_003: 16TB Page Size</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="Keraunos_PCIE_Tile_Testplan.html#tlbappout1-test-cases">5.3 TLBAppOut1 Test Cases</a><ul>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_Testplan.html#tc-outbound-app1-001-low-address-translation-256tb">TC_OUTBOUND_APP1_001: Low Address Translation (&lt;256TB)</a></li>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_Testplan.html#tc-outbound-app1-002-dbi-access-from-application">TC_OUTBOUND_APP1_002: DBI Access from Application</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="Keraunos_PCIE_Tile_Testplan.html#msi-relay-unit-test-cases">6. MSI Relay Unit Test Cases</a><ul>
<li class="toctree-l3"><a class="reference internal" href="Keraunos_PCIE_Tile_Testplan.html#register-access-tests">6.1 Register Access Tests</a><ul>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_Testplan.html#tc-msi-relay-001-msi-receiver-write">TC_MSI_RELAY_001: MSI Receiver Write</a></li>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_Testplan.html#tc-msi-relay-002-msi-x-table-configuration">TC_MSI_RELAY_002: MSI-X Table Configuration</a></li>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_Testplan.html#tc-msi-relay-003-outstanding-count">TC_MSI_RELAY_003: Outstanding Count</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="Keraunos_PCIE_Tile_Testplan.html#msi-generation-tests">6.2 MSI Generation Tests</a><ul>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_Testplan.html#tc-msi-relay-004-basic-msi-generation">TC_MSI_RELAY_004: Basic MSI Generation</a></li>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_Testplan.html#tc-msi-relay-005-msi-x-enable-control">TC_MSI_RELAY_005: MSI-X Enable Control</a></li>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_Testplan.html#tc-msi-relay-006-global-mask-control">TC_MSI_RELAY_006: Global Mask Control</a></li>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_Testplan.html#tc-msi-relay-007-vector-mask-control">TC_MSI_RELAY_007: Vector Mask Control</a></li>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_Testplan.html#tc-msi-relay-008-invalid-entry-handling">TC_MSI_RELAY_008: Invalid Entry Handling</a></li>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_Testplan.html#tc-msi-relay-009-multiple-pending-interrupts">TC_MSI_RELAY_009: Multiple Pending Interrupts</a></li>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_Testplan.html#tc-msi-relay-010-setip-signal">TC_MSI_RELAY_010: SetIP Signal</a></li>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_Testplan.html#tc-msi-relay-011-all-16-vectors">TC_MSI_RELAY_011: All 16 Vectors</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="Keraunos_PCIE_Tile_Testplan.html#integration-test-cases">7. Integration Test Cases</a><ul>
<li class="toctree-l3"><a class="reference internal" href="Keraunos_PCIE_Tile_Testplan.html#tlb-msi-relay-integration">7.1 TLB + MSI Relay Integration</a><ul>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_Testplan.html#tc-integration-001-msi-x-table-access-via-tlb">TC_INTEGRATION_001: MSI-X Table Access via TLB</a></li>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_Testplan.html#tc-integration-002-msi-generation-through-fabric">TC_INTEGRATION_002: MSI Generation Through Fabric</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="Keraunos_PCIE_Tile_Testplan.html#multiple-tlb-integration">7.2 Multiple TLB Integration</a><ul>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_Testplan.html#tc-integration-003-concurrent-tlb-operations">TC_INTEGRATION_003: Concurrent TLB Operations</a></li>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_Testplan.html#tc-integration-004-outbound-inbound-round-trip">TC_INTEGRATION_004: Outbound + Inbound Round Trip</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="Keraunos_PCIE_Tile_Testplan.html#switch-test-cases">8. Switch Test Cases</a><ul>
<li class="toctree-l3"><a class="reference internal" href="Keraunos_PCIE_Tile_Testplan.html#noc-pcie-switch-test-cases">8.1 NOC-PCIE Switch Test Cases</a><ul>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_Testplan.html#tc-switch-noc-pcie-001-address-routing-based-on-axaddr-63-60">TC_SWITCH_NOC_PCIE_001: Address Routing Based on AxADDR[63:60]</a></li>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_Testplan.html#tc-switch-noc-pcie-002-status-register-special-routing">TC_SWITCH_NOC_PCIE_002: Status Register Special Routing</a></li>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_Testplan.html#tc-switch-noc-pcie-003-isolation-support">TC_SWITCH_NOC_PCIE_003: Isolation Support</a></li>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_Testplan.html#tc-switch-noc-pcie-004-inbound-enable-control">TC_SWITCH_NOC_PCIE_004: Inbound Enable Control</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="Keraunos_PCIE_Tile_Testplan.html#enable-gating-test-cases-new-feb-2026">8.4 Enable Gating Test Cases (NEW - Feb 2026)</a><ul>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_Testplan.html#tc-negative-enable-001-inbound-enable-blocks-pcienoc-traffic">TC_NEGATIVE_ENABLE_001: Inbound Enable Blocks PCIe→NOC Traffic</a></li>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_Testplan.html#tc-negative-enable-002-outbound-enable-blocks-nocpcie-traffic">TC_NEGATIVE_ENABLE_002: Outbound Enable Blocks NOC→PCIe Traffic</a></li>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_Testplan.html#tc-negative-enable-003-both-enables-disabled-complete-isolation">TC_NEGATIVE_ENABLE_003: Both Enables Disabled - Complete Isolation</a></li>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_Testplan.html#tc-negative-enable-004-both-enables-active-positive-control">TC_NEGATIVE_ENABLE_004: Both Enables Active - Positive Control</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="Keraunos_PCIE_Tile_Testplan.html#enable-gating-implementation-architecture">8.5 Enable Gating Implementation Architecture</a><ul>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_Testplan.html#tc-switch-noc-pcie-005-bypass-path-routing">TC_SWITCH_NOC_PCIE_005: Bypass Path Routing</a></li>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_Testplan.html#tc-switch-noc-pcie-006-address-conversion-64-bit-to-52-bit">TC_SWITCH_NOC_PCIE_006: Address Conversion (64-bit to 52-bit)</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="Keraunos_PCIE_Tile_Testplan.html#noc-io-switch-test-cases">8.2 NOC-IO Switch Test Cases</a><ul>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_Testplan.html#tc-switch-noc-io-001-local-resource-routing">TC_SWITCH_NOC_IO_001: Local Resource Routing</a></li>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_Testplan.html#tc-switch-noc-io-002-external-noc-routing">TC_SWITCH_NOC_IO_002: External NOC Routing</a></li>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_Testplan.html#tc-switch-noc-io-003-high-address-routing-axaddr-51-48">TC_SWITCH_NOC_IO_003: High Address Routing (AxADDR[51:48])</a></li>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_Testplan.html#tc-switch-noc-io-004-timeout-detection">TC_SWITCH_NOC_IO_004: Timeout Detection</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="Keraunos_PCIE_Tile_Testplan.html#smn-io-switch-test-cases">8.3 SMN-IO Switch Test Cases</a><ul>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_Testplan.html#tc-switch-smn-io-001-address-based-routing">TC_SWITCH_SMN_IO_001: Address-Based Routing</a></li>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_Testplan.html#tc-switch-smn-io-002-serdes-routing">TC_SWITCH_SMN_IO_002: SerDes Routing</a></li>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_Testplan.html#tc-switch-smn-io-003-external-smn-routing">TC_SWITCH_SMN_IO_003: External SMN Routing</a></li>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_Testplan.html#tc-switch-smn-io-004-timeout-detection">TC_SWITCH_SMN_IO_004: Timeout Detection</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="Keraunos_PCIE_Tile_Testplan.html#sii-block-test-cases">9. SII Block Test Cases</a><ul>
<li class="toctree-l3"><a class="reference internal" href="Keraunos_PCIE_Tile_Testplan.html#id1">9.1 Register Access Tests</a><ul>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_Testplan.html#tc-sii-001-configuration-register-access">TC_SII_001: Configuration Register Access</a></li>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_Testplan.html#tc-sii-002-cii-tracking">TC_SII_002: CII Tracking</a></li>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_Testplan.html#tc-sii-003-bus-device-number-assignment">TC_SII_003: Bus/Device Number Assignment</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="Keraunos_PCIE_Tile_Testplan.html#config-register-block-test-cases">10. Config Register Block Test Cases</a><ul>
<li class="toctree-l3"><a class="reference internal" href="Keraunos_PCIE_Tile_Testplan.html#id2">10.1 Register Access Tests</a><ul>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_Testplan.html#tc-config-reg-001-tlb-configuration-space-access">TC_CONFIG_REG_001: TLB Configuration Space Access</a></li>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_Testplan.html#tc-config-reg-002-system-ready-register">TC_CONFIG_REG_002: System Ready Register</a></li>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_Testplan.html#tc-config-reg-003-pcie-enable-registers">TC_CONFIG_REG_003: PCIE Enable Registers</a></li>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_Testplan.html#tc-config-reg-004-isolation-behavior">TC_CONFIG_REG_004: Isolation Behavior</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="Keraunos_PCIE_Tile_Testplan.html#clock-reset-test-cases">11. Clock &amp; Reset Test Cases</a><ul>
<li class="toctree-l3"><a class="reference internal" href="Keraunos_PCIE_Tile_Testplan.html#clock-generation-tests">11.1 Clock Generation Tests</a><ul>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_Testplan.html#tc-clock-reset-001-reference-clock-generation">TC_CLOCK_RESET_001: Reference Clock Generation</a></li>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_Testplan.html#tc-clock-reset-002-pcie-clock-generation">TC_CLOCK_RESET_002: PCIE Clock Generation</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="Keraunos_PCIE_Tile_Testplan.html#reset-sequence-tests">11.2 Reset Sequence Tests</a><ul>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_Testplan.html#tc-clock-reset-003-cold-reset-sequence">TC_CLOCK_RESET_003: Cold Reset Sequence</a></li>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_Testplan.html#tc-clock-reset-004-warm-reset-sequence">TC_CLOCK_RESET_004: Warm Reset Sequence</a></li>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_Testplan.html#tc-clock-reset-005-isolation-behavior">TC_CLOCK_RESET_005: Isolation Behavior</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="Keraunos_PCIE_Tile_Testplan.html#pll-cgm-test-cases">12. PLL/CGM Test Cases</a><ul>
<li class="toctree-l3"><a class="reference internal" href="Keraunos_PCIE_Tile_Testplan.html#pll-lock-tests">12.1 PLL Lock Tests</a><ul>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_Testplan.html#tc-pll-cgm-001-pll-lock-sequence">TC_PLL_CGM_001: PLL Lock Sequence</a></li>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_Testplan.html#tc-pll-cgm-002-pll-configuration">TC_PLL_CGM_002: PLL Configuration</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="Keraunos_PCIE_Tile_Testplan.html#pcie-phy-test-cases">13. PCIE PHY Test Cases</a><ul>
<li class="toctree-l3"><a class="reference internal" href="Keraunos_PCIE_Tile_Testplan.html#phy-configuration-tests">13.1 PHY Configuration Tests</a><ul>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_Testplan.html#tc-phy-001-apb-configuration-access">TC_PHY_001: APB Configuration Access</a></li>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_Testplan.html#tc-phy-002-ahb-firmware-download">TC_PHY_002: AHB Firmware Download</a></li>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_Testplan.html#tc-phy-003-lane-reversal-support">TC_PHY_003: Lane Reversal Support</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="Keraunos_PCIE_Tile_Testplan.html#external-interface-test-cases">14. External Interface Test Cases</a><ul>
<li class="toctree-l3"><a class="reference internal" href="Keraunos_PCIE_Tile_Testplan.html#noc-n-interface-tests">14.1 NOC-N Interface Tests</a><ul>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_Testplan.html#tc-external-noc-001-transaction-forwarding">TC_EXTERNAL_NOC_001: Transaction Forwarding</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="Keraunos_PCIE_Tile_Testplan.html#smn-n-interface-tests">14.2 SMN-N Interface Tests</a><ul>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_Testplan.html#tc-external-smn-001-transaction-forwarding">TC_EXTERNAL_SMN_001: Transaction Forwarding</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="Keraunos_PCIE_Tile_Testplan.html#top-level-integration-test-cases">15. Top-Level Integration Test Cases</a><ul>
<li class="toctree-l3"><a class="reference internal" href="Keraunos_PCIE_Tile_Testplan.html#full-tile-integration">15.1 Full Tile Integration</a><ul>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_Testplan.html#tc-top-level-001-complete-reset-sequence">TC_TOP_LEVEL_001: Complete Reset Sequence</a></li>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_Testplan.html#tc-top-level-002-end-to-end-transaction-flow">TC_TOP_LEVEL_002: End-to-End Transaction Flow</a></li>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_Testplan.html#tc-top-level-003-msi-end-to-end-flow">TC_TOP_LEVEL_003: MSI End-to-End Flow</a></li>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_Testplan.html#tc-top-level-004-isolation-sequence">TC_TOP_LEVEL_004: Isolation Sequence</a></li>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_Testplan.html#tc-top-level-005-multiple-clock-domain-operation">TC_TOP_LEVEL_005: Multiple Clock Domain Operation</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="Keraunos_PCIE_Tile_Testplan.html#end-to-end-test-cases">16. End-to-End Test Cases</a><ul>
<li class="toctree-l3"><a class="reference internal" href="Keraunos_PCIE_Tile_Testplan.html#inbound-data-paths-pcie-noc-smn">16.1 Inbound Data Paths (PCIe → NOC/SMN)</a><ul>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_Testplan.html#tc-e2e-inbound-001-pcie-read-tlb-app0-noc-n">TC_E2E_INBOUND_001: PCIe Read → TLB App0 → NOC-N</a></li>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_Testplan.html#tc-e2e-inbound-002-pcie-write-tlb-app1-noc-n">TC_E2E_INBOUND_002: PCIe Write → TLB App1 → NOC-N</a></li>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_Testplan.html#tc-e2e-inbound-003-pcie-tlb-sys-smn-n">TC_E2E_INBOUND_003: PCIe → TLB Sys → SMN-N</a></li>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_Testplan.html#tc-e2e-inbound-004-pcie-bypass-app-path">TC_E2E_INBOUND_004: PCIe Bypass App Path</a></li>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_Testplan.html#tc-e2e-inbound-005-pcie-bypass-sys-path">TC_E2E_INBOUND_005: PCIe Bypass Sys Path</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="Keraunos_PCIE_Tile_Testplan.html#outbound-data-paths-noc-smn-pcie">16.2 Outbound Data Paths (NOC/SMN → PCIe)</a><ul>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_Testplan.html#tc-e2e-outbound-001-noc-n-tlb-app-out0-pcie">TC_E2E_OUTBOUND_001: NOC-N → TLB App Out0 → PCIe</a></li>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_Testplan.html#tc-e2e-outbound-002-smn-n-tlb-sys-out0-pcie">TC_E2E_OUTBOUND_002: SMN-N → TLB Sys Out0 → PCIe</a></li>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_Testplan.html#tc-e2e-outbound-003-noc-n-tlb-app-out1-pcie-dbi">TC_E2E_OUTBOUND_003: NOC-N → TLB App Out1 → PCIe DBI</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="Keraunos_PCIE_Tile_Testplan.html#configuration-paths-smn-tlb-sii-msi-config">16.3 Configuration Paths (SMN → TLB/SII/MSI Config)</a><ul>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_Testplan.html#tc-e2e-config-001-smn-n-tlb-config">TC_E2E_CONFIG_001: SMN-N → TLB Config</a></li>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_Testplan.html#tc-e2e-config-002-smn-n-sii-config">TC_E2E_CONFIG_002: SMN-N → SII Config</a></li>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_Testplan.html#tc-e2e-config-003-smn-n-msi-relay-config">TC_E2E_CONFIG_003: SMN-N → MSI Relay Config</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="Keraunos_PCIE_Tile_Testplan.html#msi-interrupt-flows">16.4 MSI Interrupt Flows</a><ul>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_Testplan.html#tc-e2e-msi-001-msi-generation-noc-n">TC_E2E_MSI_001: MSI Generation → NOC-N</a></li>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_Testplan.html#tc-e2e-msi-002-downstream-msi-input-processing">TC_E2E_MSI_002: Downstream MSI Input → Processing</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="Keraunos_PCIE_Tile_Testplan.html#status-register-access">16.5 Status Register Access</a><ul>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_Testplan.html#tc-e2e-status-001-status-register-read-route-0xe">TC_E2E_STATUS_001: Status Register Read (Route 0xE)</a></li>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_Testplan.html#tc-e2e-status-002-status-register-disabled-access">TC_E2E_STATUS_002: Status Register Disabled Access</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="Keraunos_PCIE_Tile_Testplan.html#isolation-and-error-handling">16.6 Isolation and Error Handling</a><ul>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_Testplan.html#tc-e2e-isolation-001-global-isolation">TC_E2E_ISOLATION_001: Global Isolation</a></li>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_Testplan.html#tc-e2e-isolation-002-config-access-during-isolation">TC_E2E_ISOLATION_002: Config Access During Isolation</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="Keraunos_PCIE_Tile_Testplan.html#multi-path-concurrent-traffic">16.7 Multi-Path Concurrent Traffic</a><ul>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_Testplan.html#tc-e2e-concurrent-001-simultaneous-inbound-outbound">TC_E2E_CONCURRENT_001: Simultaneous Inbound + Outbound</a></li>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_Testplan.html#tc-e2e-concurrent-002-multiple-tlb-simultaneous-access">TC_E2E_CONCURRENT_002: Multiple TLB Simultaneous Access</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="Keraunos_PCIE_Tile_Testplan.html#reset-and-initialization-sequences">16.8 Reset and Initialization Sequences</a><ul>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_Testplan.html#tc-e2e-reset-001-cold-reset-sequence">TC_E2E_RESET_001: Cold Reset Sequence</a></li>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_Testplan.html#tc-e2e-reset-002-warm-reset-sequence">TC_E2E_RESET_002: Warm Reset Sequence</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="Keraunos_PCIE_Tile_Testplan.html#complete-transaction-flows">16.9 Complete Transaction Flows</a><ul>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_Testplan.html#tc-e2e-flow-001-pcie-memory-read-noc-memory-response">TC_E2E_FLOW_001: PCIe Memory Read → NOC → Memory → Response</a></li>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_Testplan.html#tc-e2e-flow-002-pcie-memory-write-noc-memory-completion">TC_E2E_FLOW_002: PCIe Memory Write → NOC → Memory → Completion</a></li>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_Testplan.html#tc-e2e-flow-003-noc-memory-read-pcie-controller">TC_E2E_FLOW_003: NOC Memory Read → PCIe Controller</a></li>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_Testplan.html#tc-e2e-flow-004-smn-config-write-pcie-dbi">TC_E2E_FLOW_004: SMN Config Write → PCIe DBI</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="Keraunos_PCIE_Tile_Testplan.html#error-injection-and-recovery">16.10 Error Injection and Recovery</a><ul>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_Testplan.html#tc-e2e-error-001-invalid-tlb-entry">TC_E2E_ERROR_001: Invalid TLB Entry</a></li>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_Testplan.html#tc-e2e-error-002-timeout-handling">TC_E2E_ERROR_002: Timeout Handling</a></li>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_Testplan.html#tc-e2e-error-003-address-decode-error">TC_E2E_ERROR_003: Address Decode Error</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="Keraunos_PCIE_Tile_Testplan.html#msi-x-end-to-end-flow">16.11 MSI-X End-to-End Flow</a><ul>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_Testplan.html#tc-e2e-msix-001-complete-msi-x-interrupt-flow">TC_E2E_MSIX_001: Complete MSI-X Interrupt Flow</a></li>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_Testplan.html#tc-e2e-msix-002-multiple-vector-interrupts">TC_E2E_MSIX_002: Multiple Vector Interrupts</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="Keraunos_PCIE_Tile_Testplan.html#clock-domain-crossing">16.12 Clock Domain Crossing</a><ul>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_Testplan.html#tc-e2e-cdc-001-axi-clock-pcie-clock">TC_E2E_CDC_001: AXI Clock → PCIe Clock</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="Keraunos_PCIE_Tile_Testplan.html#performance-and-stress-tests">16.13 Performance and Stress Tests</a><ul>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_Testplan.html#tc-e2e-perf-001-maximum-throughput-test">TC_E2E_PERF_001: Maximum Throughput Test</a></li>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_Testplan.html#tc-e2e-stress-001-address-space-sweep">TC_E2E_STRESS_001: Address Space Sweep</a></li>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_Testplan.html#tc-e2e-stress-002-tlb-entry-exhaustion">TC_E2E_STRESS_002: TLB Entry Exhaustion</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="Keraunos_PCIE_Tile_Testplan.html#power-management">16.14 Power Management</a><ul>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_Testplan.html#tc-e2e-power-001-isolation-mode-entry-exit">TC_E2E_POWER_001: Isolation Mode Entry/Exit</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="Keraunos_PCIE_Tile_Testplan.html#system-integration-scenarios">16.15 System Integration Scenarios</a><ul>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_Testplan.html#tc-e2e-system-001-boot-sequence">TC_E2E_SYSTEM_001: Boot Sequence</a></li>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_Testplan.html#tc-e2e-system-002-shutdown-sequence">TC_E2E_SYSTEM_002: Shutdown Sequence</a></li>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_Testplan.html#tc-e2e-system-003-error-recovery-scenario">TC_E2E_SYSTEM_003: Error Recovery Scenario</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="Keraunos_PCIE_Tile_Testplan.html#refactored-architecture-validation">16.16 Refactored Architecture Validation</a><ul>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_Testplan.html#tc-e2e-refactor-001-function-callback-chain">TC_E2E_REFACTOR_001: Function Callback Chain</a></li>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_Testplan.html#tc-e2e-refactor-002-no-internal-sockets-remain">TC_E2E_REFACTOR_002: No Internal Sockets Remain</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="Keraunos_PCIE_Tile_Testplan.html#coverage-goals">17. Coverage Goals</a></li>
<li class="toctree-l2"><a class="reference internal" href="Keraunos_PCIE_Tile_Testplan.html#id3">16. Coverage Goals</a><ul>
<li class="toctree-l3"><a class="reference internal" href="Keraunos_PCIE_Tile_Testplan.html#functional-coverage">16.1 Functional Coverage</a><ul>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_Testplan.html#tlb-coverage">TLB Coverage</a></li>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_Testplan.html#msi-relay-coverage">MSI Relay Coverage</a></li>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_Testplan.html#switch-coverage">Switch Coverage</a></li>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_Testplan.html#sii-coverage">SII Coverage</a></li>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_Testplan.html#config-register-coverage">Config Register Coverage</a></li>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_Testplan.html#clock-reset-coverage">Clock/Reset Coverage</a></li>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_Testplan.html#phy-coverage">PHY Coverage</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="Keraunos_PCIE_Tile_Testplan.html#code-coverage">16.2 Code Coverage</a></li>
<li class="toctree-l3"><a class="reference internal" href="Keraunos_PCIE_Tile_Testplan.html#specification-coverage">16.3 Specification Coverage</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="Keraunos_PCIE_Tile_Testplan.html#test-infrastructure">17. Test Infrastructure</a><ul>
<li class="toctree-l3"><a class="reference internal" href="Keraunos_PCIE_Tile_Testplan.html#testbench-components">9.1 Testbench Components</a><ul>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_Testplan.html#stimulus-generator">Stimulus Generator</a></li>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_Testplan.html#monitor">Monitor</a></li>
<li class="toctree-l4"><a class="reference internal" href="Keraunos_PCIE_Tile_Testplan.html#reference-model">Reference Model</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="Keraunos_PCIE_Tile_Testplan.html#test-utilities">9.2 Test Utilities</a></li>
<li class="toctree-l3"><a class="reference internal" href="Keraunos_PCIE_Tile_Testplan.html#test-configuration">9.3 Test Configuration</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="Keraunos_PCIE_Tile_Testplan.html#regression-testing">18. Regression Testing</a><ul>
<li class="toctree-l3"><a class="reference internal" href="Keraunos_PCIE_Tile_Testplan.html#regression-suite">10.1 Regression Suite</a></li>
<li class="toctree-l3"><a class="reference internal" href="Keraunos_PCIE_Tile_Testplan.html#regression-criteria">10.2 Regression Criteria</a></li>
<li class="toctree-l3"><a class="reference internal" href="Keraunos_PCIE_Tile_Testplan.html#continuous-integration">10.3 Continuous Integration</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="Keraunos_PCIE_Tile_Testplan.html#appendix-a-unit-integration-test-case-summary-sections-4-15">Appendix A: Unit/Integration Test Case Summary (Sections 4-15)</a></li>
<li class="toctree-l2"><a class="reference internal" href="Keraunos_PCIE_Tile_Testplan.html#appendix-a-2-end-to-end-test-case-summary-section-16-implemented-in-keranous-pcie-tiletest-cc">Appendix A.2: End-to-End Test Case Summary (Section 16) — Implemented in <code class="docutils literal notranslate"><span class="pre">Keranous_pcie_tileTest.cc</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="Keraunos_PCIE_Tile_Testplan.html#appendix-b-test-execution-plan">Appendix B: Test Execution Plan</a><ul>
<li class="toctree-l3"><a class="reference internal" href="Keraunos_PCIE_Tile_Testplan.html#phase-1-unit-tests-weeks-1-3">Phase 1: Unit Tests (Weeks 1-3)</a></li>
<li class="toctree-l3"><a class="reference internal" href="Keraunos_PCIE_Tile_Testplan.html#phase-2-functional-tests-weeks-4-5">Phase 2: Functional Tests (Weeks 4-5)</a></li>
<li class="toctree-l3"><a class="reference internal" href="Keraunos_PCIE_Tile_Testplan.html#phase-3-integration-tests-weeks-6-7">Phase 3: Integration Tests (Weeks 6-7)</a></li>
<li class="toctree-l3"><a class="reference internal" href="Keraunos_PCIE_Tile_Testplan.html#phase-4-system-tests-week-8">Phase 4: System Tests (Week 8)</a></li>
<li class="toctree-l3"><a class="reference internal" href="Keraunos_PCIE_Tile_Testplan.html#phase-5-regression-week-9">Phase 5: Regression (Week 9)</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="ENABLE_GATING_DESIGN.html">Enable Gating Feature - Design Documentation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="ENABLE_GATING_DESIGN.html#overview">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="ENABLE_GATING_DESIGN.html#register-interface">Register Interface</a></li>
<li class="toctree-l2"><a class="reference internal" href="ENABLE_GATING_DESIGN.html#implementation">Implementation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="ENABLE_GATING_DESIGN.html#signal-propagation">Signal Propagation</a></li>
<li class="toctree-l3"><a class="reference internal" href="ENABLE_GATING_DESIGN.html#key-features">Key Features</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="ENABLE_GATING_DESIGN.html#test-coverage">Test Coverage</a></li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Keraunos PCIe Tile</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Keraunos System Architecture</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/Keraunos_System_Architecture.md.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section class="tex2jax_ignore mathjax_ignore" id="keraunos-system-architecture">
<h1>Keraunos System Architecture<a class="headerlink" href="#keraunos-system-architecture" title="Permalink to this heading"></a></h1>
<section id="pcie-tile-integration-in-keraunos-e100-chiplet-ecosystem">
<h2>PCIe Tile Integration in Keraunos-E100 Chiplet Ecosystem<a class="headerlink" href="#pcie-tile-integration-in-keraunos-e100-chiplet-ecosystem" title="Permalink to this heading"></a></h2>
<p><strong>Version:</strong> 1.0<br />
<strong>Date:</strong> February 10, 2026<br />
<strong>Author:</strong> System Architecture Team</p>
</section>
<hr class="docutils" />
<section id="executive-summary">
<h2>Executive Summary<a class="headerlink" href="#executive-summary" title="Permalink to this heading"></a></h2>
<p>This document describes the system-level architecture of the Keraunos-E100 chiplet ecosystem and details how the Keraunos PCIe Tile integrates into the larger Grendel multi-chiplet architecture. The Keraunos PCIe Tile serves as a critical I/O interface, enabling host connectivity and system management while interfacing with the on-chip Network-on-Chip (NOC) infrastructure.</p>
</section>
<hr class="docutils" />
<section id="table-of-contents">
<h2>Table of Contents<a class="headerlink" href="#table-of-contents" title="Permalink to this heading"></a></h2>
<ol class="arabic simple">
<li><p><a class="reference internal" href="#system-overview"><span class="std std-doc">System Overview</span></a></p></li>
<li><p><a class="reference internal" href="#keraunos-e100-chiplet-architecture"><span class="std std-doc">Keraunos-E100 Chiplet Architecture</span></a></p></li>
<li><p><a class="reference internal" href="#pcie-tile-position-in-the-system"><span class="std std-doc">PCIe Tile Position in the System</span></a></p>
<ul class="simple">
<li><p><a class="reference internal" href="#model-integration-hostrceppcie-tile-connection-diagram"><span class="std std-doc">3.4 Model Integration: Host–RC–EP–PCIe Tile Connection Diagram</span></a></p></li>
<li><p><a class="reference internal" href="#vdk-integration-pcie-tile-and-synopsys-pcie-controller-in-the-virtualizer"><span class="std std-doc">3.5 VDK Integration: PCIe Tile and Synopsys PCIe Controller in the Virtualizer</span></a></p></li>
<li><p><span class="xref myst">3.5.6 DesignWare EP/RC Interfaces: Connect vs Stub</span></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#connectivity-architecture"><span class="std std-doc">Connectivity Architecture</span></a></p></li>
<li><p><a class="reference internal" href="#data-flow-paths"><span class="std std-doc">Data Flow Paths</span></a></p></li>
<li><p><a class="reference internal" href="#address-space-integration"><span class="std std-doc">Address Space Integration</span></a></p></li>
<li><p><a class="reference internal" href="#system-use-cases"><span class="std std-doc">System Use Cases</span></a></p></li>
<li><p><a class="reference internal" href="#appendices"><span class="std std-doc">Appendices</span></a></p></li>
</ol>
</section>
<hr class="docutils" />
<section id="system-overview">
<h2>1. System Overview<a class="headerlink" href="#system-overview" title="Permalink to this heading"></a></h2>
<section id="grendel-chiplet-ecosystem">
<h3>1.1 Grendel Chiplet Ecosystem<a class="headerlink" href="#grendel-chiplet-ecosystem" title="Permalink to this heading"></a></h3>
<p>The Grendel chiplet ecosystem is a multi-chiplet heterogeneous computing platform designed for high-performance AI/ML workloads. The ecosystem consists of:</p>
<ul class="simple">
<li><p><strong>Quasar Chiplets:</strong> Compute chiplets containing AI/ML processing cores</p></li>
<li><p><strong>Mimir Chiplets:</strong> Memory chiplets with GDDR interfaces</p></li>
<li><p><strong>Athena Chiplets:</strong> Specialized compute chiplets</p></li>
<li><p><strong>Keraunos-E100 Chiplets:</strong> I/O interface chiplets for high-speed connectivity</p></li>
</ul>
</section>
<section id="keraunos-e100-role">
<h3>1.2 Keraunos-E100 Role<a class="headerlink" href="#keraunos-e100-role" title="Permalink to this heading"></a></h3>
<p>Keraunos-E100 is the I/O interface chiplet family in the Grendel ecosystem, providing:</p>
<ul class="simple">
<li><p><strong>Glueless scale-out</strong> connectivity via 400G/800G Ethernet (Quasar-to-Quasar across packages)</p></li>
<li><p><strong>Host connectivity</strong> via PCIe Gen5 (x16)</p></li>
<li><p><strong>Die-to-die (D2D)</strong> connectivity within the package using BoW (Bridge-of-Wire) technology</p></li>
<li><p><strong>System management</strong> capabilities via integrated SMC (System Management Controller)</p></li>
</ul>
<div class="mermaid">
            graph TB
    subgraph pkg[&quot;Grendel Package&quot;]
        QUASAR[Quasar]
        MIMIR[Mimir]
        KERAUNOS[Keraunos-E100]
        QUASAR --- KERAUNOS
        MIMIR --- QUASAR
    end

    HOST[Host] &lt;--&gt;|PCIe x16| KERAUNOS
    REMOTE[Remote Package] &lt;--&gt;|Ethernet| KERAUNOS

    style KERAUNOS fill:#e1f5ff
    style QUASAR fill:#ffe1e1
    style MIMIR fill:#e1ffe1
    style HOST fill:#fff4e1
    style REMOTE fill:#f0e1ff
        </div></section>
</section>
<hr class="docutils" />
<section id="keraunos-e100-chiplet-architecture">
<h2>2. Keraunos-E100 Chiplet Architecture<a class="headerlink" href="#keraunos-e100-chiplet-architecture" title="Permalink to this heading"></a></h2>
<section id="high-level-block-diagram">
<h3>2.1 High-Level Block Diagram<a class="headerlink" href="#high-level-block-diagram" title="Permalink to this heading"></a></h3>
<p>The Keraunos-E100 chiplet contains the following major subsystems. The diagram is split into two parts for reliable rendering.</p>
<p><strong>Part A — Internal subsystems and NOC:</strong></p>
<div class="mermaid">
            graph TB
    subgraph harness[&quot;Chiplet Harness&quot;]
        SMC[SMC]
        SEP[SEP]
        SMU[SMU]
    end

    subgraph pcie[&quot;PCIe Subsystem&quot;]
        PCIE_TILE[PCIe Tile]
        PCIE_SERDES[PCIe SerDes]
    end

    subgraph hsio[&quot;HSIO Tiles (2)&quot;]
        CCE0[CCE 0]
        CCE1[CCE 1]
        ETH0[TT Eth Ctrl 0]
        ETH1[TT Eth Ctrl 1]
        MAC0[MAC PCS 0]
        MAC1[MAC PCS 1]
        SRAM[HSIO SRAM]
        FABRIC[HSIO Fabric]
    end

    subgraph noc[&quot;NOC Infrastructure&quot;]
        SMN[SMN]
        QNP[QNP Mesh]
        D2D[D2D Tiles]
    end

    PCIE_TILE --- SMN
    PCIE_TILE --- QNP
    PCIE_TILE --- PCIE_SERDES

    CCE0 --- FABRIC
    CCE1 --- FABRIC
    ETH0 --- FABRIC
    ETH1 --- FABRIC
    FABRIC --- SRAM
    FABRIC --- SMN
    FABRIC --- QNP
    ETH0 --- MAC0
    ETH1 --- MAC1

    SMN --- SMC
    SMN --- SEP
    SMN --- D2D
    QNP --- D2D

    style PCIE_TILE fill:#ffcccc,stroke:#c00
    style FABRIC fill:#d9f7d9
    style SMN fill:#e6ccff
    style QNP fill:#e6ccff
        </div><p><strong>Part B — External interfaces:</strong></p>
<div class="mermaid">
            graph LR
    subgraph chip[&quot;Keraunos-E100 Chiplet&quot;]
        PCIE[PCIe Tile]
        MAC_A[MAC PCS 0]
        MAC_B[MAC PCS 1]
        D2D_T[D2D Tiles]
    end

    HOST[PCIe Host]
    ETH_A[Ethernet 0]
    ETH_B[Ethernet 1]
    QUASAR[Quasar Mimir]

    HOST &lt;--&gt;|PCIe x16| PCIE
    MAC_A --&gt;|800G| ETH_A
    MAC_B --&gt;|800G| ETH_B
    D2D_T --&gt;|BoW| QUASAR

    style PCIE fill:#ffcccc,stroke:#c00
        </div></section>
<section id="key-subsystems">
<h3>2.2 Key Subsystems<a class="headerlink" href="#key-subsystems" title="Permalink to this heading"></a></h3>
<section id="chiplet-harness">
<h4>2.2.1 Chiplet Harness<a class="headerlink" href="#chiplet-harness" title="Permalink to this heading"></a></h4>
<ul class="simple">
<li><p><strong>SMC (System Management Controller):</strong> 4-core RISC-V processor (Rocket core) running at 800 MHz</p></li>
<li><p><strong>SEP (Security Engine Processor):</strong> Handles secure boot, attestation, and access filtering</p></li>
<li><p><strong>SMU (System Management Unit):</strong> Clock generation (CGM PLLs), power management, reset sequencing</p></li>
</ul>
</section>
<section id="pcie-subsystem">
<h4>2.2.2 PCIe Subsystem<a class="headerlink" href="#pcie-subsystem" title="Permalink to this heading"></a></h4>
<ul class="simple">
<li><p><strong>PCIe Tile:</strong> Contains TLB translation engines, configuration registers, and internal fabric; it interfaces to the PCIe Controller. The tile does not implement the link layer; it receives/sends TLPs via the controller.</p></li>
<li><p><strong>PCIe Controller:</strong> On the Keraunos chip this is the <strong>Synopsys PCIe Controller IP</strong> (DesignWare), configured as an <strong>Endpoint</strong> (EP). The host system uses a <strong>Root Complex</strong> (RC). The link is therefore RC (host) ↔ EP (Keraunos).</p></li>
<li><p><strong>PCIe SerDes:</strong> Physical layer (PHY) for PCIe Gen5/Gen6 connectivity</p></li>
</ul>
</section>
<section id="hsio-high-speed-i-o-tiles">
<h4>2.2.3 HSIO (High-Speed I/O) Tiles<a class="headerlink" href="#hsio-high-speed-i-o-tiles" title="Permalink to this heading"></a></h4>
<ul class="simple">
<li><p><strong>CCE (Keraunos Compute Engine):</strong> DMA engines, DMRISC cores, data forwarding logic</p></li>
<li><p><strong>TT Ethernet Controller:</strong> TX/RX queue controllers, packet processing, flow control</p></li>
<li><p><strong>MAC/PCS:</strong> 800G Ethernet MAC and Physical Coding Sublayer (OmegaCore IP from AlphaWave)</p></li>
<li><p><strong>SRAM:</strong> 8MB high-speed SRAM for packet buffering and data staging</p></li>
<li><p><strong>HSIO Fabric:</strong> AXI-based crossbar interconnect</p></li>
</ul>
</section>
<section id="noc-infrastructure">
<h4>2.2.4 NOC Infrastructure<a class="headerlink" href="#noc-infrastructure" title="Permalink to this heading"></a></h4>
<ul class="simple">
<li><p><strong>SMN (System Management Network):</strong> Carries control, configuration, and low-bandwidth traffic</p></li>
<li><p><strong>QNP Mesh (NOC-N):</strong> High-bandwidth data fabric for payload transfer (1.5 GHz &#64; TT corner)</p></li>
<li><p><strong>D2D (Die-to-Die):</strong> 5 BoW interfaces &#64; 2 GHz for chiplet-to-chiplet connectivity</p></li>
</ul>
</section>
</section>
</section>
<hr class="docutils" />
<section id="pcie-tile-position-in-the-system">
<h2>3. PCIe Tile Position in the System<a class="headerlink" href="#pcie-tile-position-in-the-system" title="Permalink to this heading"></a></h2>
<section id="pcie-tile-overview">
<h3>3.1 PCIe Tile Overview<a class="headerlink" href="#pcie-tile-overview" title="Permalink to this heading"></a></h3>
<p>The <strong>Keraunos PCIe Tile</strong> developed in this project is a SystemC/TLM-2.0 model representing the PCIe subsystem of the Keraunos-E100 chiplet. It provides:</p>
<ol class="arabic simple">
<li><p><strong>Host Interface:</strong> PCIe Gen5 x16 connectivity to the host CPU</p></li>
<li><p><strong>Internal Routing:</strong> Bidirectional routing between PCIe, NOC-N (QNP), and SMN</p></li>
<li><p><strong>Address Translation:</strong> TLB-based address mapping between PCIe address space and system address space</p></li>
<li><p><strong>Configuration Interface:</strong> SMN-accessible configuration registers for TLBs, MSI relay, and error handling</p></li>
</ol>
</section>
<section id="architectural-position">
<h3>3.2 Architectural Position<a class="headerlink" href="#architectural-position" title="Permalink to this heading"></a></h3>
<div class="mermaid">
            graph TB
    subgraph host[&quot;Host System&quot;]
        CPU[Host CPU]
        DRAM[Host DRAM]
    end

    subgraph tile[&quot;PCIe Tile&quot;]
        PCIE_CTRL[PCIe Controller]
        TLB_IN[Inbound TLB]
        TLB_OUT[Outbound TLB]
        SWITCH[PCIe-SMN-IO Switch]
        MSI_RELAY[MSI Relay]
    end

    subgraph chip[&quot;Keraunos-E100&quot;]
        SMN_NET[SMN]
        QNP_NET[QNP NOC-N]
        HSIO_TILES[HSIO Tiles]
        D2D_LINKS[D2D Links]
    end

    CPU --- PCIE_CTRL
    PCIE_CTRL --- TLB_IN
    PCIE_CTRL --- TLB_OUT
    TLB_IN --- SWITCH
    SWITCH --- QNP_NET
    SWITCH --- SMN_NET
    TLB_OUT --- QNP_NET
    TLB_OUT --- SMN_NET
    SMN_NET --- PCIE_CTRL
    SMN_NET --- HSIO_TILES
    QNP_NET --- HSIO_TILES
    QNP_NET --- D2D_LINKS
    MSI_RELAY --- PCIE_CTRL
    SMN_NET --- MSI_RELAY

    style PCIE_CTRL fill:#ffcccc,stroke:#c00
    style TLB_IN fill:#ffe6cc
    style TLB_OUT fill:#ffe6cc
    style SWITCH fill:#d9f7d9
    style SMN_NET fill:#e6ccff
    style QNP_NET fill:#cce5ff
        </div></section>
<section id="key-interfaces">
<h3>3.3 Key Interfaces<a class="headerlink" href="#key-interfaces" title="Permalink to this heading"></a></h3>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Interface</p></th>
<th class="head"><p>Protocol</p></th>
<th class="head"><p>Width</p></th>
<th class="head"><p>Purpose</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">pcie_inbound</span></code></p></td>
<td><p>TLM-2.0 Target</p></td>
<td><p>64-bit</p></td>
<td><p>Receives PCIe Memory Read/Write from host</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">noc_n_initiator</span></code></p></td>
<td><p>TLM-2.0 Initiator</p></td>
<td><p>64-bit</p></td>
<td><p>Forwards inbound PCIe traffic to NOC after TLB translation</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">smn_n_initiator</span></code></p></td>
<td><p>TLM-2.0 Initiator</p></td>
<td><p>64-bit</p></td>
<td><p>Forwards bypass/system traffic to SMN</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">noc_n_outbound</span></code></p></td>
<td><p>TLM-2.0 Target</p></td>
<td><p>64-bit</p></td>
<td><p>Receives outbound NOC traffic destined for PCIe</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">smn_outbound</span></code></p></td>
<td><p>TLM-2.0 Target</p></td>
<td><p>64-bit</p></td>
<td><p>Receives outbound SMN traffic destined for PCIe</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">pcie_controller_initiator</span></code></p></td>
<td><p>TLM-2.0 Initiator</p></td>
<td><p>64-bit</p></td>
<td><p>Sends outbound transactions to PCIe controller</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">smn_config</span></code></p></td>
<td><p>TLM-2.0 Target</p></td>
<td><p>64-bit</p></td>
<td><p>SMN access to PCIe Tile configuration registers</p></td>
</tr>
</tbody>
</table>
</section>
<section id="model-integration-hostrceppcie-tile-connection-diagram">
<h3>3.4 Model Integration: Host–RC–EP–PCIe Tile Connection Diagram<a class="headerlink" href="#model-integration-hostrceppcie-tile-connection-diagram" title="Permalink to this heading"></a></h3>
<p>This section documents how the <strong>inband</strong> (TLM) and <strong>sideband</strong> (sc_in/sc_out) ports of the PCIe Tile connect across Host → Root Complex → Endpoint → PCIe Tile for <strong>model integration</strong> (e.g. connecting the tile to a Synopsys PCIe Controller model or test harness).</p>
<p><strong>End-to-end connection path:</strong></p>
<div class="mermaid">
            graph LR
    subgraph host[&quot;Host System&quot;]
        CPU[Host CPU]
        DRAM[Host DRAM]
    end

    subgraph rc[&quot;Root Complex&quot;]
        RC_CORE[RC Core]
        RC_SIDEBAND[Reset / Power / Sideband]
    end

    subgraph link[&quot;PCIe Link&quot;]
        TLP[TLPs]
    end

    subgraph ep[&quot;Endpoint - Synopsys PCIe Controller&quot;]
        EP_CORE[EP Core]
        EP_AXI[AXI / Data IF]
        EP_SIDEBAND[Sideband Signals]
    end

    subgraph tile[&quot;PCIe Tile DUT&quot;]
        TLM_IN[TLM Target]
        TLM_OUT[TLM Initiator]
        SC_IN[sc_in]
        SC_OUT[sc_out]
    end

    CPU --- RC_CORE
    RC_CORE --- TLP
    TLP --- EP_CORE
    EP_CORE --- EP_AXI
    EP_CORE --- EP_SIDEBAND
    EP_AXI --- TLM_IN
    EP_AXI --- TLM_OUT
    EP_SIDEBAND --- SC_IN
    EP_SIDEBAND --- SC_OUT
    RC_SIDEBAND -.-&gt;|optional| EP_SIDEBAND

    style TLP fill:#e3f2fd
    style EP_AXI fill:#fff3e0
    style EP_SIDEBAND fill:#f3e5f5
    style TLM_IN fill:#e8f5e9
    style TLM_OUT fill:#e8f5e9
    style SC_IN fill:#fce4ec
    style SC_OUT fill:#fce4ec
        </div><p><strong>Inband (TLM) connections — EP ↔ PCIe Tile:</strong></p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Tile port</p></th>
<th class="head"><p>Direction</p></th>
<th class="head"><p>Width</p></th>
<th class="head"><p>Connected to (EP side)</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">pcie_controller_target</span></code></p></td>
<td><p>Target (in)</p></td>
<td><p>64-bit</p></td>
<td><p>EP AXI/TLM initiator</p></td>
<td><p>Inbound TLPs from host: EP pushes Memory Read/Write to tile</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">pcie_controller_initiator</span></code></p></td>
<td><p>Initiator (out)</p></td>
<td><p>64-bit</p></td>
<td><p>EP AXI/TLM target</p></td>
<td><p>Outbound TLPs to host: tile pushes Memory Read/Write/Completion to EP</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">noc_n_target</span></code></p></td>
<td><p>Target (in)</p></td>
<td><p>64-bit</p></td>
<td><p>NOC fabric</p></td>
<td><p>Outbound path: NOC traffic destined for PCIe</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">noc_n_initiator</span></code></p></td>
<td><p>Initiator (out)</p></td>
<td><p>64-bit</p></td>
<td><p>NOC fabric</p></td>
<td><p>Inbound path: tile forwards translated traffic to NOC</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">smn_n_target</span></code></p></td>
<td><p>Target (in)</p></td>
<td><p>64-bit</p></td>
<td><p>SMN fabric</p></td>
<td><p>Outbound path: SMN traffic destined for PCIe</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">smn_n_initiator</span></code></p></td>
<td><p>Initiator (out)</p></td>
<td><p>64-bit</p></td>
<td><p>SMN fabric</p></td>
<td><p>Inbound path: tile forwards system traffic to SMN</p></td>
</tr>
</tbody>
</table>
<p><strong>Sideband signals — EP → PCIe Tile (sc_in to tile):</strong></p>
<p>These are driven by the <strong>Synopsys PCIe Controller (EP)</strong> or by the <strong>system</strong>; the tile receives them as <code class="docutils literal notranslate"><span class="pre">sc_in</span></code>.</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Tile port (sc_in)</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Source</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">pcie_core_clk</span></code></p></td>
<td><p>bool</p></td>
<td><p>EP</p></td>
<td><p>PCIe core clock from controller</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">pcie_controller_reset_n</span></code></p></td>
<td><p>bool</p></td>
<td><p>EP</p></td>
<td><p>Controller reset (active low)</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">pcie_cii_hv</span></code></p></td>
<td><p>bool</p></td>
<td><p>EP</p></td>
<td><p>CII header valid (SII / config info)</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">pcie_cii_hdr_type</span></code></p></td>
<td><p>sc_bv&lt;5&gt;</p></td>
<td><p>EP</p></td>
<td><p>CII header type [4:0]</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">pcie_cii_hdr_addr</span></code></p></td>
<td><p>sc_bv&lt;12&gt;</p></td>
<td><p>EP</p></td>
<td><p>CII header address [11:0]</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">pcie_flr_request</span></code></p></td>
<td><p>bool</p></td>
<td><p>EP</p></td>
<td><p>Function Level Reset request</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">pcie_hot_reset</span></code></p></td>
<td><p>bool</p></td>
<td><p>EP</p></td>
<td><p>Hot reset from link</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">pcie_ras_error</span></code></p></td>
<td><p>bool</p></td>
<td><p>EP</p></td>
<td><p>RAS error indication</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">pcie_dma_completion</span></code></p></td>
<td><p>bool</p></td>
<td><p>EP</p></td>
<td><p>DMA completion notification</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">pcie_misc_int</span></code></p></td>
<td><p>bool</p></td>
<td><p>EP</p></td>
<td><p>Miscellaneous interrupt from controller</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">cold_reset_n</span></code></p></td>
<td><p>bool</p></td>
<td><p>System (SMC)</p></td>
<td><p>SoC cold reset (active low)</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">warm_reset_n</span></code></p></td>
<td><p>bool</p></td>
<td><p>System (SMC)</p></td>
<td><p>SoC warm reset (active low)</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">isolate_req</span></code></p></td>
<td><p>bool</p></td>
<td><p>System</p></td>
<td><p>Isolation request</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">axi_clk</span></code></p></td>
<td><p>bool</p></td>
<td><p>System</p></td>
<td><p>AXI clock</p></td>
</tr>
</tbody>
</table>
<p><strong>Sideband signals — PCIe Tile → EP (sc_out from tile):</strong></p>
<p>The tile drives these; the <strong>EP</strong> or <strong>system</strong> receives them.</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Tile port (sc_out)</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Sink</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">pcie_app_bus_num</span></code></p></td>
<td><p>uint8_t</p></td>
<td><p>EP</p></td>
<td><p>PCIe bus number for app</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">pcie_app_dev_num</span></code></p></td>
<td><p>uint8_t</p></td>
<td><p>EP</p></td>
<td><p>PCIe device number for app</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">pcie_device_type</span></code></p></td>
<td><p>bool</p></td>
<td><p>EP</p></td>
<td><p>Device type indicator</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">pcie_sys_int</span></code></p></td>
<td><p>bool</p></td>
<td><p>EP</p></td>
<td><p>System interrupt to controller</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">function_level_reset</span></code></p></td>
<td><p>bool</p></td>
<td><p>EP</p></td>
<td><p>FLR completion / request to EP</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">hot_reset_requested</span></code></p></td>
<td><p>bool</p></td>
<td><p>EP</p></td>
<td><p>Hot reset requested</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">config_update</span></code></p></td>
<td><p>bool</p></td>
<td><p>EP</p></td>
<td><p>Configuration update indicator</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">ras_error</span></code></p></td>
<td><p>bool</p></td>
<td><p>EP</p></td>
<td><p>RAS error to controller</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">dma_completion</span></code></p></td>
<td><p>bool</p></td>
<td><p>EP</p></td>
<td><p>DMA completion to controller</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">controller_misc_int</span></code></p></td>
<td><p>bool</p></td>
<td><p>EP</p></td>
<td><p>Controller miscellaneous interrupt</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">noc_timeout</span></code></p></td>
<td><p>sc_bv&lt;3&gt;</p></td>
<td><p>EP / system</p></td>
<td><p>NOC timeout status</p></td>
</tr>
</tbody>
</table>
<p><strong>Summary diagram — sideband and inband to PCIe Tile:</strong></p>
<div class="mermaid">
            graph TB
    subgraph host_rc[&quot;Host / Root Complex&quot;]
        H[Host]
        RC[RC]
        H --- RC
    end

    subgraph pcie_link[&quot;PCIe Link - Inband TLPs&quot;]
        L[TLP]
    end

    subgraph ep_block[&quot;Synopsys EP - PCIe Controller&quot;]
        EP[EP]
        EP_CLK[clk, reset_n]
        EP_FLR[flr_request, hot_reset]
        EP_ERR[ras_error, dma_completion, misc_int]
        EP_CII[cii_hv, cii_hdr_type, cii_hdr_addr]
        EP --- EP_CLK
        EP --- EP_FLR
        EP --- EP_ERR
        EP --- EP_CII
    end

    subgraph tile[&quot;PCIe Tile&quot;]
        TLM_T[pcie_controller_target]
        TLM_I[pcie_controller_initiator]
        IN[sc_in ports]
        OUT[sc_out ports]
    end

    RC --- L
    L --- EP
    EP ---|AXI/TLM| TLM_T
    EP ---|AXI/TLM| TLM_I
    EP_CLK --- IN
    EP_FLR --- IN
    EP_ERR --- IN
    EP_CII --- IN
    OUT --- EP
    IN -.-&gt;|cold_reset_n, warm_reset_n, isolate_req, axi_clk| SYS[System SMC]

    style L fill:#e3f2fd
    style TLM_T fill:#c8e6c9
    style TLM_I fill:#c8e6c9
    style IN fill:#f8bbd0
    style OUT fill:#f8bbd0
        </div><p><strong>Integration notes:</strong></p>
<ul class="simple">
<li><p><strong>Inband:</strong> Connect the EP’s AXI or TLM initiator to the tile’s <code class="docutils literal notranslate"><span class="pre">pcie_controller_target</span></code>, and the EP’s AXI/TLM target to the tile’s <code class="docutils literal notranslate"><span class="pre">pcie_controller_initiator</span></code>. Traffic from the host (RC) arrives at the EP over the PCIe link; the EP presents it to the tile on the target socket. Traffic from the tile to the host is sent via the initiator socket to the EP, which sends TLPs over the link to the RC.</p></li>
<li><p><strong>Sideband:</strong> Drive all tile <code class="docutils literal notranslate"><span class="pre">sc_in</span></code> ports from the EP model or system (clocks, resets, CII, FLR, hot_reset, ras_error, dma_completion, pcie_misc_int; plus cold_reset_n, warm_reset_n, isolate_req, axi_clk from system). Connect all tile <code class="docutils literal notranslate"><span class="pre">sc_out</span></code> ports to the EP or system as required by the EP datasheet and platform design.</p></li>
</ul>
</section>
<section id="vdk-integration-pcie-tile-and-synopsys-pcie-controller-in-the-virtualizer">
<h3>3.5 VDK Integration: PCIe Tile and Synopsys PCIe Controller in the Virtualizer<a class="headerlink" href="#vdk-integration-pcie-tile-and-synopsys-pcie-controller-in-the-virtualizer" title="Permalink to this heading"></a></h3>
<p>This section describes how the <strong>Keraunos PCIe Tile</strong> and the <strong>Synopsys PCIe Controller</strong> (DesignWare, as RC and EP when available) are intended to be connected in the <strong>Synopsys Virtualizer VDK</strong> (vsws_TT workspace) so that the virtual platform aligns with the Keraunos system architecture. The VDK workspace under <code class="docutils literal notranslate"><span class="pre">linux_extensible/vsws_TT</span></code> contains three subsystem definitions: <strong>Ascalon_Chiplet_System</strong>, <strong>Ascalon_Cluster</strong>, and <strong>SMC_SS</strong>, which together form a multi-chiplet demo with PCIe.</p>
<section id="vdk-workspace-layout-vsws-tt">
<h4>3.5.1 VDK Workspace Layout (vsws_TT)<a class="headerlink" href="#vdk-workspace-layout-vsws-tt" title="Permalink to this heading"></a></h4>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Subsystem / File</p></th>
<th class="head"><p>Role</p></th>
<th class="head"><p>PCIe Relevance</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><strong>Ascalon_Chiplet_System.vdksys</strong></p></td>
<td><p>Top-level chiplet system</p></td>
<td><p>Instantiates PCIe RC (Primary_Chiplet), PCIe EPs (Secondary_Chiplet_1/2/3), PCIeSwitch (Misc), SharedMemoryMap, SMC_SS, reset/clock</p></td>
</tr>
<tr class="row-odd"><td><p><strong>Ascalon_Cluster.vdksys</strong></p></td>
<td><p>RISC-V Ascalon cluster (buildAsSubsystem)</p></td>
<td><p>Used inside Primary/Secondary chiplets for compute; no direct PCIe ports</p></td>
</tr>
<tr class="row-even"><td><p><strong>SMC_SS.vdksys</strong></p></td>
<td><p>System Management Controller subsystem (buildAsSubsystem)</p></td>
<td><p>SMC_SS_M on Primary, SMC_SS_S on Secondaries; I3C, mailboxes, resets; no direct PCIe</p></td>
</tr>
</tbody>
</table>
<p><strong>Top-level hierarchy (Ascalon_Chiplet_System):</strong></p>
<ul class="simple">
<li><p><strong>Primary_Chiplet:</strong> RST_GEN, SharedMemoryMap, SMC_SS_M, <strong>Peripherals</strong> (contains <strong>PCIe_RC</strong>), Ascalon_SS (Ascalon_Cluster), SYSCLK, RAM, DRAM</p></li>
<li><p><strong>Secondary_Chiplet_1 / 2 / 3:</strong> Each has SharedMemoryMap, SMC_SS_S, <strong>Peripherals</strong> (contains <strong>PCIe_EP_1 / 2 / 3</strong>), Ascalon_SS, SYSCLK, RAM, DRAM</p></li>
<li><p><strong>Misc:</strong> CustomResetController, <strong>PCIeSwitch</strong> (Synopsys/PCIE_SWITCH/PCIeSwitch)</p></li>
</ul>
<p><strong>PCIe model in VDK:</strong> Synopsys <strong>DESIGNWARE_PCIE / PCIe_2_0</strong> is used for both Root Complex (PCIe_RC) and Endpoint (PCIe_EP_1/2/3). In the <strong>current</strong> vdksys the PCIe link is realized via the <strong>PCIeSwitch</strong>: RC’s <strong>PCIMem</strong> connects to the switch <strong>USP</strong> (upstream); each EP’s <strong>PCIMem</strong> / <strong>PCIMem_Slave</strong> connects to the switch <strong>DSP</strong> (downstream) ports. The switch is used only because the demo has <strong>one RC and three EPs</strong>; it is <strong>not</strong> required for a single host–device link.</p>
<p><strong>Direct RC–EP link (no switch):</strong> For <strong>Keraunos</strong>, the real topology is a single host (RC) and a single Keraunos device (EP). A <strong>direct link</strong> between RC and EP is sufficient and preferred. In the VDK you can bind the RC and EP peer-to-peer:</p>
<ul class="simple">
<li><p><strong>RC PCIMem</strong> (master) ↔ <strong>EP PCIMem_Slave</strong> (slave) — TLPs from RC to EP</p></li>
<li><p><strong>RC PCIMem_Slave</strong> (slave) ↔ <strong>EP PCIMem</strong> (master) — TLPs from EP to RC</p></li>
</ul>
<p>No PCIeSwitch is needed for this topology. Use the switch only when modeling multiple EPs behind one RC (e.g. multiple secondary chiplets).</p>
</section>
<section id="alignment-with-keraunos-where-the-pcie-tile-fits">
<h4>3.5.2 Alignment with Keraunos: Where the PCIe Tile Fits<a class="headerlink" href="#alignment-with-keraunos-where-the-pcie-tile-fits" title="Permalink to this heading"></a></h4>
<p>In the <strong>Keraunos-E100</strong> architecture, the host uses a <strong>Root Complex</strong> and the Keraunos chip uses a <strong>Synopsys PCIe Controller as Endpoint</strong>. The <strong>PCIe Tile</strong> sits behind the EP and provides TLB translation and routing to NOC/SMN. In the VDK:</p>
<ul class="simple">
<li><p><strong>RC:</strong> Can remain as the existing <strong>PCIe_RC</strong> on Primary_Chiplet (or a dedicated “host” chiplet) when modeling the host side.</p></li>
<li><p><strong>EP:</strong> On the chiplet that represents <strong>Keraunos</strong>, the <strong>Synopsys PCIe EP</strong> (e.g. PCIe_EP_1 in Secondary_Chiplet_1) is the PCIe controller; the <strong>Keraunos PCIe Tile</strong> is inserted <strong>between</strong> this EP and the rest of the chip (NOC/SMN).</p></li>
</ul>
<p>Thus: <strong>Host ↔ RC ↔ [PCIe link: direct or via PCIeSwitch] ↔ EP ↔ PCIe Tile ↔ NOC/SMN</strong>. For Keraunos (single EP), use a <strong>direct</strong> RC–EP link; the tile does not replace the EP and connects to the EP’s application-side (AXI/TLM) and sideband interfaces as in Section 3.4.</p>
</section>
<section id="interface-level-connection-diagram-vdk">
<h4>3.5.3 Interface-Level Connection Diagram (VDK)<a class="headerlink" href="#interface-level-connection-diagram-vdk" title="Permalink to this heading"></a></h4>
<p>The following diagram shows the VDK topology and where the PCIe Tile and Synopsys RC/EP connect. For a Keraunos-aligned integration, one secondary chiplet (e.g. Secondary_Chiplet_1) is treated as the “Keraunos” chiplet: EP + PCIe Tile + (optional) NOC/SMN stubs.</p>
<div class="mermaid">
            graph TB
    subgraph vdk_root[&quot;VDK: Ascalon_Chiplet_System&quot;]
        subgraph primary[&quot;Primary_Chiplet&quot;]
            RST[RST_GEN]
            SMM_P[SharedMemoryMap]
            SMC_M[SMC_SS_M]
            PER_P[Peripherals]
            RC[PCIe_RC - Synopsys RC]
            PER_P --- RC
        end

        subgraph secondary1[&quot;Secondary_Chiplet_1 (e.g. Keraunos)&quot;]
            SMM_S[SharedMemoryMap]
            SMC_S[SMC_SS_S]
            PER_S[Peripherals]
            EP[PCIe_EP - Synopsys EP]
            TILE[Keraunos PCIe Tile]
            PER_S --- EP
            EP ---|AXI/TLM + sideband| TILE
            TILE ---|noc_n / smn_n| NOC_SMN[NOC / SMN stubs]
        end

        subgraph misc[&quot;Misc&quot;]
            SW[PCIeSwitch - optional]
            RST_CTL[CustomResetController]
        end
    end

    RC ---|PCIMem / PCIMem_Slave direct| EP
    RC -.-&gt;|or via PCIeSwitch for multi-EP| SW
    SW -.-&gt; EP
    RC ---|AXI_Slave, AXI_DBI, BusMaster| SMM_P
    EP ---|AXI_Slave, AXI_DBI, BusMaster, PCIMem, PCIMem_Slave| SMM_S
    EP -.-&gt;|sideband| TILE

    style RC fill:#e3f2fd
    style EP fill:#fff3e0
    style TILE fill:#c8e6c9
    style SW fill:#f3e5f5
        </div><p><strong>Inband (TLM) in VDK today:</strong></p>
<ul class="simple">
<li><p><strong>PCIe_RC:</strong> AXI_Slave, AXI_DBI, BusMaster bound to Primary_Chiplet <strong>SharedMemoryMap</strong> (config and memory space).</p></li>
<li><p><strong>PCIe_EP_1:</strong> AXI_Slave, AXI_DBI, BusMaster bound to Secondary_Chiplet_1 <strong>SharedMemoryMap</strong>; <strong>PCIMem</strong> / <strong>PCIMem_Slave</strong> bound to <strong>PCIeSwitch</strong> DSP ports (TLP traffic to/from RC).</p></li>
</ul>
<p><strong>When adding the Keraunos PCIe Tile:</strong></p>
<ul class="simple">
<li><p>The EP’s application-facing TLM ports that today go to SharedMemoryMap (or that represent “inbound TLPs to device” and “outbound TLPs from device”) are redirected to the tile’s <strong>pcie_controller_target</strong> and <strong>pcie_controller_initiator</strong>.</p></li>
<li><p>The tile’s <strong>noc_n_target</strong> / <strong>noc_n_initiator</strong> and <strong>smn_n_target</strong> / <strong>smn_n_initiator</strong> connect to NOC/SMN models or stubs in the VDK (e.g. simple memory or existing NoC/SMN subsystems if available).</p></li>
</ul>
</section>
<section id="signal-and-interface-level-mapping-ep-pcie-tile">
<h4>3.5.4 Signal- and Interface-Level Mapping (EP ↔ PCIe Tile)<a class="headerlink" href="#signal-and-interface-level-mapping-ep-pcie-tile" title="Permalink to this heading"></a></h4>
<p>The Synopsys DesignWare PCIe model (PCIe_2_0) exposes the following interface groups. The mapping to the Keraunos PCIe Tile ports enables a drop-in style integration when the tile is added to the VDK.</p>
<p><strong>TLM (inband) — DesignWare EP ↔ PCIe Tile:</strong></p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>DesignWare EP interface (VDK)</p></th>
<th class="head"><p>Direction</p></th>
<th class="head"><p>PCIe Tile port</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>AXI_Slave</p></td>
<td><p>Slave (in)</p></td>
<td><p>—</p></td>
<td><p>Config/MMIO from system; in VDK often to SharedMemoryMap. When using tile, system config can still be via SMN → tile <code class="docutils literal notranslate"><span class="pre">smn_n_target</span></code>.</p></td>
</tr>
<tr class="row-odd"><td><p>AXI_DBI</p></td>
<td><p>Slave (in)</p></td>
<td><p>—</p></td>
<td><p>DBI/config; may remain to SharedMemoryMap or be routed per platform.</p></td>
</tr>
<tr class="row-even"><td><p>BusMaster</p></td>
<td><p>Master (out)</p></td>
<td><p><strong>pcie_controller_initiator</strong></p></td>
<td><p>Outbound TLPs (EP as master): tile sends Memory Read/Write/Completion to EP.</p></td>
</tr>
<tr class="row-odd"><td><p>PCIMem</p></td>
<td><p>Master (out)</p></td>
<td><p>—</p></td>
<td><p>EP as master toward link (in VDK, to PCIeSwitch). Not connected to tile.</p></td>
</tr>
<tr class="row-even"><td><p>PCIMem_Slave</p></td>
<td><p>Slave (in)</p></td>
<td><p><strong>pcie_controller_target</strong></p></td>
<td><p>Inbound TLPs from link: host → RC → Switch → EP; EP pushes to tile.</p></td>
</tr>
</tbody>
</table>
<p>So: <strong>PCIMem_Slave (EP)</strong> ↔ <strong>pcie_controller_target (Tile)</strong> for inbound; <strong>BusMaster (EP)</strong> ↔ <strong>pcie_controller_initiator (Tile)</strong> for outbound. AXI_Slave/AXI_DBI stay on the system/SharedMemoryMap side unless explicitly routed through the tile (e.g. via SMN).</p>
<p><strong>Sideband — DesignWare EP ↔ PCIe Tile (sc_in / sc_out):</strong></p>
<p>DesignWare PCIe_2_0 exposes a number of reset, clock, and sideband pins. Map them to the tile’s <code class="docutils literal notranslate"><span class="pre">sc_in</span></code> and <code class="docutils literal notranslate"><span class="pre">sc_out</span></code> as follows so that the VDK integration matches Section 3.4.</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Tile sc_in (receive)</p></th>
<th class="head"><p>Source (EP or system)</p></th>
<th class="head"><p>DesignWare EP / system signal (typical name)</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>pcie_core_clk</p></td>
<td><p>EP</p></td>
<td><p>cc_core_clk or equivalent core clock</p></td>
</tr>
<tr class="row-odd"><td><p>pcie_controller_reset_n</p></td>
<td><p>EP</p></td>
<td><p>pcie_axi_ares or combined reset_n</p></td>
</tr>
<tr class="row-even"><td><p>pcie_cii_hv</p></td>
<td><p>EP</p></td>
<td><p>CII header valid</p></td>
</tr>
<tr class="row-odd"><td><p>pcie_cii_hdr_type</p></td>
<td><p>EP</p></td>
<td><p>CII header type [4:0]</p></td>
</tr>
<tr class="row-even"><td><p>pcie_cii_hdr_addr</p></td>
<td><p>EP</p></td>
<td><p>CII header address [11:0]</p></td>
</tr>
<tr class="row-odd"><td><p>pcie_flr_request</p></td>
<td><p>EP</p></td>
<td><p>FLR request</p></td>
</tr>
<tr class="row-even"><td><p>pcie_hot_reset</p></td>
<td><p>EP</p></td>
<td><p>Hot reset</p></td>
</tr>
<tr class="row-odd"><td><p>pcie_ras_error</p></td>
<td><p>EP</p></td>
<td><p>RAS error</p></td>
</tr>
<tr class="row-even"><td><p>pcie_dma_completion</p></td>
<td><p>EP</p></td>
<td><p>DMA completion</p></td>
</tr>
<tr class="row-odd"><td><p>pcie_misc_int</p></td>
<td><p>EP</p></td>
<td><p>Miscellaneous interrupt</p></td>
</tr>
<tr class="row-even"><td><p>cold_reset_n</p></td>
<td><p>System (e.g. CustomResetController)</p></td>
<td><p>SoC cold reset</p></td>
</tr>
<tr class="row-odd"><td><p>warm_reset_n</p></td>
<td><p>System</p></td>
<td><p>SoC warm reset</p></td>
</tr>
<tr class="row-even"><td><p>isolate_req</p></td>
<td><p>System</p></td>
<td><p>Isolation request</p></td>
</tr>
<tr class="row-odd"><td><p>axi_clk</p></td>
<td><p>System</p></td>
<td><p>AXI clock</p></td>
</tr>
</tbody>
</table>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Tile sc_out (drive)</p></th>
<th class="head"><p>Sink (EP or system)</p></th>
<th class="head"><p>DesignWare EP / system signal (typical name)</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>pcie_app_bus_num</p></td>
<td><p>EP</p></td>
<td><p>App bus number</p></td>
</tr>
<tr class="row-odd"><td><p>pcie_app_dev_num</p></td>
<td><p>EP</p></td>
<td><p>App device number</p></td>
</tr>
<tr class="row-even"><td><p>pcie_device_type</p></td>
<td><p>EP</p></td>
<td><p>Device type</p></td>
</tr>
<tr class="row-odd"><td><p>pcie_sys_int</p></td>
<td><p>EP</p></td>
<td><p>System interrupt to controller</p></td>
</tr>
<tr class="row-even"><td><p>function_level_reset</p></td>
<td><p>EP</p></td>
<td><p>FLR completion</p></td>
</tr>
<tr class="row-odd"><td><p>hot_reset_requested</p></td>
<td><p>EP</p></td>
<td><p>Hot reset requested</p></td>
</tr>
<tr class="row-even"><td><p>config_update</p></td>
<td><p>EP</p></td>
<td><p>Config update</p></td>
</tr>
<tr class="row-odd"><td><p>ras_error</p></td>
<td><p>EP</p></td>
<td><p>RAS error to controller</p></td>
</tr>
<tr class="row-even"><td><p>dma_completion</p></td>
<td><p>EP</p></td>
<td><p>DMA completion to controller</p></td>
</tr>
<tr class="row-odd"><td><p>controller_misc_int</p></td>
<td><p>EP</p></td>
<td><p>Controller misc interrupt</p></td>
</tr>
<tr class="row-even"><td><p>noc_timeout</p></td>
<td><p>EP / system</p></td>
<td><p>NOC timeout [2:0]</p></td>
</tr>
</tbody>
</table>
<p>(Exact DesignWare signal names may vary by IP version; use the EP model’s documentation or RTL interface list to align names.)</p>
</section>
<section id="connection-diagram-for-easy-integration">
<h4>3.5.5 Connection Diagram for Easy Integration<a class="headerlink" href="#connection-diagram-for-easy-integration" title="Permalink to this heading"></a></h4>
<p>A single diagram that ties VDK instances to tile ports and EP ports is below. Use it as a checklist when wiring the PCIe Tile into the VDK behind the Synopsys EP.</p>
<div class="mermaid">
            graph LR
    subgraph host_side[&quot;Host / RC (VDK Primary_Chiplet)&quot;]
        RC[PCIe_RC]
    end

    subgraph keraunos_chiplet[&quot;Keraunos Chiplet (e.g. Secondary_Chiplet_1)&quot;]
        subgraph ep_block[&quot;Synopsys EP&quot;]
            EP[PCIe_2_0]
            EP_PCIMem[PCIMem]
            EP_PCIMemSlave[PCIMem_Slave]
            EP_BusM[BusMaster]
            EP_AXI_S[AXI_Slave]
            EP_AXI_DBI[AXI_DBI]
            EP_RST[resets]
            EP_CLK[clocks]
            EP_SB[sideband]
        end

        subgraph tile_block[&quot;Keraunos PCIe Tile&quot;]
            T_tgt[pcie_controller_target]
            T_init[pcie_controller_initiator]
            T_noc_t[noc_n_target]
            T_noc_i[noc_n_initiator]
            T_smn_t[smn_n_target]
            T_smn_i[smn_n_initiator]
            T_sc_in[sc_in]
            T_sc_out[sc_out]
        end
    end

    RC --&gt;|PCIMem direct| EP_PCIMemSlave
    EP_PCIMem --&gt;|PCIMem direct| RC
    EP_PCIMemSlave --&gt;|TLM inbound| T_tgt
    EP_BusM --&gt;|TLM outbound| T_init
    EP_RST --&gt; T_sc_in
    EP_CLK --&gt; T_sc_in
    EP_SB --&gt; T_sc_in
    T_sc_out --&gt; EP_SB
    T_noc_i --&gt; NOC[NOC]
    T_smn_i --&gt; SMN[SMN]
    NOC --&gt; T_noc_t
    SMN --&gt; T_smn_t

    style T_tgt fill:#c8e6c9
    style T_init fill:#c8e6c9
    style T_sc_in fill:#f8bbd0
    style T_sc_out fill:#f8bbd0
        </div><p><strong>Integration checklist:</strong></p>
<ol class="arabic simple">
<li><p><strong>Inband:</strong> Bind EP <strong>PCIMem_Slave</strong> (inbound TLPs) to the tile’s <strong>pcie_controller_target</strong>. Bind EP <strong>BusMaster</strong> (outbound TLPs) to the tile’s <strong>pcie_controller_initiator</strong>. Keep EP <strong>PCIMem</strong> / <strong>PCIMem_Slave</strong> connection to PCIeSwitch for link traffic.</p></li>
<li><p><strong>Sideband:</strong> Connect all EP and system reset/clock/sideband outputs to the tile’s <strong>sc_in</strong>; connect all tile <strong>sc_out</strong> to the EP (and system) inputs as in the table above.</p></li>
<li><p><strong>NOC/SMN:</strong> Connect tile <strong>noc_n_target</strong> / <strong>noc_n_initiator</strong> and <strong>smn_n_target</strong> / <strong>smn_n_initiator</strong> to the VDK’s NOC and SMN models (or stubs) for the Keraunos chiplet.</p></li>
<li><p><strong>RC–EP link:</strong> For <strong>Keraunos</strong> (single EP), use a <strong>direct</strong> link: bind <strong>RC PCIMem</strong> to <strong>EP PCIMem_Slave</strong> and <strong>RC PCIMem_Slave</strong> to <strong>EP PCIMem</strong>. Omit the PCIeSwitch. When modeling multiple EPs, keep <strong>PCIe_RC</strong> connected to PCIeSwitch USP and each EP to the switch DSP. No change is required for the tile, which only attaches to the EP.</p></li>
</ol>
<p>This ensures the VDK integration of the PCIe Tile and Synopsys PCIe Controller (RC and EP) matches the Keraunos system architecture and Section 3.4, and can be integrated with minimal rework.</p>
</section>
<section id="designware-pcie-ep-and-rc-interfaces-connect-to-tile-system-vs-stub">
<h4>3.5.6 DesignWare PCIe EP and RC Interfaces: Connect to Tile / System vs Stub<a class="headerlink" href="#designware-pcie-ep-and-rc-interfaces-connect-to-tile-system-vs-stub" title="Permalink to this heading"></a></h4>
<p>The Ascalon chiplet vdksys <strong>Peripherals</strong> section instantiates the Synopsys DesignWare <strong>PCIe_2_0</strong> model for both <strong>PCIe_RC</strong> (Primary_Chiplet) and <strong>PCIe_EP</strong> (Secondary_Chiplet_1/2/3). The model exposes a large set of TLM, RESET, CLOCK, and Default (sideband) interfaces. This subsection lists the main interface groups and, for each, whether to <strong>connect to the PCIe Tile</strong>, <strong>connect to the system</strong> (SharedMemoryMap, SYSCLK, APLIC, etc.), or <strong>stub</strong> when integrating the Keraunos PCIe Tile. The vdksys already marks many of these with <code class="docutils literal notranslate"><span class="pre">stubs</span></code> (e.g. ELBIMaster, sys_int, device_type, link_up, app_ltssm_en, cc_pipe_clk); the tables below align with that and add the tile connection choices.</p>
<p><strong>A. PCIe Endpoint (EP) — interfaces and disposition</strong></p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Category</p></th>
<th class="head"><p>DesignWare EP interface (vdksys)</p></th>
<th class="head"><p>Connect to PCIe Tile</p></th>
<th class="head"><p>Connect to system / other</p></th>
<th class="head"><p>Stub</p></th>
<th class="head"><p>Notes</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><strong>TLM</strong></p></td>
<td><p>AXI_Slave</p></td>
<td><p>—</p></td>
<td><p>SharedMemoryMap (config space) or SMN</p></td>
<td><p>—</p></td>
<td><p>Config/MMIO; can remain to memory map.</p></td>
</tr>
<tr class="row-odd"><td><p><strong>TLM</strong></p></td>
<td><p>AXI_DBI</p></td>
<td><p>—</p></td>
<td><p>SharedMemoryMap (DBI region)</p></td>
<td><p>—</p></td>
<td><p>DBI/config.</p></td>
</tr>
<tr class="row-even"><td><p><strong>TLM</strong></p></td>
<td><p>BusMaster</p></td>
<td><p><strong>pcie_controller_initiator</strong></p></td>
<td><p>—</p></td>
<td><p>—</p></td>
<td><p>Outbound TLPs: tile → EP → link.</p></td>
</tr>
<tr class="row-odd"><td><p><strong>TLM</strong></p></td>
<td><p>ELBIMaster</p></td>
<td><p>—</p></td>
<td><p>—</p></td>
<td><p>Yes (vdksys: auto stub)</p></td>
<td><p>Optional ELBI; not used for tile.</p></td>
</tr>
<tr class="row-even"><td><p><strong>TLM</strong></p></td>
<td><p>PCIMem</p></td>
<td><p>—</p></td>
<td><p>Link (RC or PCIeSwitch)</p></td>
<td><p>—</p></td>
<td><p>EP as master toward link.</p></td>
</tr>
<tr class="row-odd"><td><p><strong>TLM</strong></p></td>
<td><p>PCIMem_Slave</p></td>
<td><p><strong>pcie_controller_target</strong></p></td>
<td><p>—</p></td>
<td><p>—</p></td>
<td><p>Inbound TLPs: link → EP → tile.</p></td>
</tr>
<tr class="row-even"><td><p><strong>RESET</strong></p></td>
<td><p>pcie_axi_ares, cc_dbi_ares, cc_core_ares, cc_pwr_ares, cc_phy_ares</p></td>
<td><p><strong>pcie_controller_reset_n</strong> (or combine)</p></td>
<td><p>Peripherals Reset / RST_GEN</p></td>
<td><p>—</p></td>
<td><p>Drive tile reset from same source as EP.</p></td>
</tr>
<tr class="row-odd"><td><p><strong>CLOCK</strong></p></td>
<td><p>cc_core_clk</p></td>
<td><p><strong>pcie_core_clk</strong> (tile sc_in)</p></td>
<td><p>—</p></td>
<td><p>—</p></td>
<td><p>EP core clock to tile.</p></td>
</tr>
<tr class="row-even"><td><p><strong>CLOCK</strong></p></td>
<td><p>cc_dbi_aclk</p></td>
<td><p>—</p></td>
<td><p>SYSCLK (bound in vdksys)</p></td>
<td><p>—</p></td>
<td><p>DBI clock; also usable as axi_clk for tile.</p></td>
</tr>
<tr class="row-odd"><td><p><strong>CLOCK</strong></p></td>
<td><p>cc_pipe_clk, cc_aclkSlv, cc_aclkMstr, cc_aux_clk, refclk</p></td>
<td><p>—</p></td>
<td><p>—</p></td>
<td><p>Yes (vdksys: cc_pipe_clk stubbed)</p></td>
<td><p>Internal/PHY clocks; stub if not driving tile.</p></td>
</tr>
<tr class="row-even"><td><p><strong>Sideband (CII)</strong></p></td>
<td><p>lbc_cii_hv, lbc_cii_dv, lbc_cii_hdr_type, lbc_cii_hdr_addr, lbc_cii_hdr_*</p></td>
<td><p><strong>pcie_cii_hv</strong>, <strong>pcie_cii_hdr_type</strong>, <strong>pcie_cii_hdr_addr</strong> (tile sc_in)</p></td>
<td><p>—</p></td>
<td><p>Rest of CII if tile does not use</p></td>
<td><p>CII = Configuration Interface Info; map key signals to tile.</p></td>
</tr>
<tr class="row-odd"><td><p><strong>Sideband (FLR)</strong></p></td>
<td><p>cfg_flr_pf_active_x, app_flr_pf_done_x</p></td>
<td><p><strong>pcie_flr_request</strong> (in), <strong>function_level_reset</strong> (out)</p></td>
<td><p>—</p></td>
<td><p>—</p></td>
<td><p>FLR handshake between EP and tile.</p></td>
</tr>
<tr class="row-even"><td><p><strong>Sideband (hot reset, etc.)</strong></p></td>
<td><p>link_req_rst_not, training_rst_n, smlh_req_rst_not</p></td>
<td><p><strong>pcie_hot_reset</strong> (tile sc_in), <strong>hot_reset_requested</strong> (tile sc_out)</p></td>
<td><p>—</p></td>
<td><p>—</p></td>
<td><p>As needed for tile behavior.</p></td>
</tr>
<tr class="row-odd"><td><p><strong>Sideband (bus/dev)</strong></p></td>
<td><p>app_bus_num, app_dev_num</p></td>
<td><p><strong>pcie_app_bus_num</strong>, <strong>pcie_app_dev_num</strong> (tile sc_out)</p></td>
<td><p>—</p></td>
<td><p>—</p></td>
<td><p>Tile drives EP with assigned BDF.</p></td>
</tr>
<tr class="row-even"><td><p><strong>Sideband (device type)</strong></p></td>
<td><p>device_type (slave on EP)</p></td>
<td><p><strong>pcie_device_type</strong> (tile sc_out)</p></td>
<td><p>—</p></td>
<td><p>Yes if not using</p></td>
<td><p>vdksys stubs; connect from tile when integrated.</p></td>
</tr>
<tr class="row-odd"><td><p><strong>Sideband (interrupt)</strong></p></td>
<td><p>sys_int (slave on EP)</p></td>
<td><p><strong>pcie_sys_int</strong> (tile sc_out)</p></td>
<td><p>—</p></td>
<td><p>Yes in vdksys</p></td>
<td><p>Connect tile pcie_sys_int to EP sys_int when integrated.</p></td>
</tr>
<tr class="row-even"><td><p><strong>Sideband (DMA)</strong></p></td>
<td><p>dma_wdxfer_done_togg[], dma_rdxfer_done_togg[], edma_int_rd_chan[], edma_int_wr_chan[], edma_int</p></td>
<td><p><strong>pcie_dma_completion</strong>, <strong>controller_misc_int</strong> (tile sc_in/sc_out)</p></td>
<td><p>—</p></td>
<td><p>Optional</p></td>
<td><p>Map DMA completion / misc int to tile as needed.</p></td>
</tr>
<tr class="row-odd"><td><p><strong>Sideband (RAS/error)</strong></p></td>
<td><p>pcie_parc_int, app_err_<em>, cfg_aer_</em></p></td>
<td><p><strong>pcie_ras_error</strong> (tile sc_in), <strong>ras_error</strong> (tile sc_out)</p></td>
<td><p>—</p></td>
<td><p>Optional</p></td>
<td><p>Connect if tile implements RAS/error reporting.</p></td>
</tr>
<tr class="row-even"><td><p><strong>MSI</strong></p></td>
<td><p>msi_ctrl_int, msi_ctrl_int_vec_<em>[], msi_gen, ven_msi_</em>, msix_addr, msix_data, cfg_msix_*</p></td>
<td><p>—</p></td>
<td><p>APLIC / interrupt controller (e.g. TT_APLIC_TLM2)</p></td>
<td><p>Stub msi_gen in vdksys</p></td>
<td><p>RC binds msi_ctrl_int to APLIC; EP same for device MSI.</p></td>
</tr>
<tr class="row-odd"><td><p><strong>Power / L1/L2</strong></p></td>
<td><p>apps_pm_xmt_turnoff, app_req_entr_l1, app_req_exit_l1, pme_en, pme_stat, clk_req, clk_req_in, pm_linkst_<em>, pm_dstate, radm_pm_</em></p></td>
<td><p>—</p></td>
<td><p>—</p></td>
<td><p>Yes (vdksys stubs many)</p></td>
<td><p>Power management; stub for minimal tile integration.</p></td>
</tr>
<tr class="row-even"><td><p><strong>Other sideband</strong></p></td>
<td><p>ready_entr_l23, app_ltssm_en, link_up, sys_pre_det_state, app_unlock_msg, app_ltr_<em>, app_init_rst, bridge_flush_not, hp_int, hp_msi, RADM_inta/b/c/d, cfg_pme_</em>, radm_pm_to_ack, slv_<em>misc_info, mstr_<em>misc_info, app_hdr_log, app_tlp_prfx_log, app_err_</em>, ven_msi_tc, ven_msi_vector, cfg_msi_</em>, CxlRegAccess, ptm_*, etc.</p></td>
<td><p>—</p></td>
<td><p>—</p></td>
<td><p>Yes</p></td>
<td><p>Optional or debug; stub to simplify integration.</p></td>
</tr>
</tbody>
</table>
<p><strong>B. PCIe Root Complex (RC) — interfaces and disposition</strong></p>
<p>The RC has the same DesignWare PCIe_2_0 interface set. There is <strong>no PCIe Tile</strong> behind the RC (the tile is behind the EP on the Keraunos chiplet). So RC interfaces either connect to the <strong>link</strong> (direct to EP or to PCIeSwitch), to the <strong>system</strong> (SharedMemoryMap, SYSCLK, APLIC), or are <strong>stubbed</strong>.</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Category</p></th>
<th class="head"><p>DesignWare RC interface (vdksys)</p></th>
<th class="head"><p>Connect to link (EP / Switch)</p></th>
<th class="head"><p>Connect to system</p></th>
<th class="head"><p>Stub</p></th>
<th class="head"><p>Notes</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><strong>TLM</strong></p></td>
<td><p>AXI_Slave, AXI_DBI</p></td>
<td><p>—</p></td>
<td><p>SharedMemoryMap (config, DBI)</p></td>
<td><p>—</p></td>
<td><p>Host config space; bound in vdksys.</p></td>
</tr>
<tr class="row-odd"><td><p><strong>TLM</strong></p></td>
<td><p>BusMaster</p></td>
<td><p>—</p></td>
<td><p>SharedMemoryMap (memory)</p></td>
<td><p>—</p></td>
<td><p>Host-initiated TLPs; bound in vdksys.</p></td>
</tr>
<tr class="row-even"><td><p><strong>TLM</strong></p></td>
<td><p>ELBIMaster</p></td>
<td><p>—</p></td>
<td><p>—</p></td>
<td><p>Yes (vdksys: auto stub)</p></td>
<td><p>Optional.</p></td>
</tr>
<tr class="row-odd"><td><p><strong>TLM</strong></p></td>
<td><p>PCIMem</p></td>
<td><p>EP PCIMem_Slave or PCIeSwitch USP</p></td>
<td><p>—</p></td>
<td><p>—</p></td>
<td><p>Downstream TLPs.</p></td>
</tr>
<tr class="row-even"><td><p><strong>TLM</strong></p></td>
<td><p>PCIMem_Slave</p></td>
<td><p>EP PCIMem or PCIeSwitch DSP</p></td>
<td><p>—</p></td>
<td><p>—</p></td>
<td><p>Upstream TLPs from EP.</p></td>
</tr>
<tr class="row-odd"><td><p><strong>RESET</strong></p></td>
<td><p>pcie_axi_ares, cc_*_ares</p></td>
<td><p>—</p></td>
<td><p>Peripherals Reset / RST_GEN</p></td>
<td><p>—</p></td>
<td><p>Same as EP.</p></td>
</tr>
<tr class="row-even"><td><p><strong>CLOCK</strong></p></td>
<td><p>cc_core_clk, cc_dbi_aclk</p></td>
<td><p>—</p></td>
<td><p>SYSCLK</p></td>
<td><p>—</p></td>
<td><p>Bound in vdksys.</p></td>
</tr>
<tr class="row-odd"><td><p><strong>CLOCK</strong></p></td>
<td><p>cc_pipe_clk, cc_aux_clk, refclk, cc_aclkSlv, cc_aclkMstr</p></td>
<td><p>—</p></td>
<td><p>—</p></td>
<td><p>Yes</p></td>
<td><p>Stub if not used.</p></td>
</tr>
<tr class="row-even"><td><p><strong>MSI</strong></p></td>
<td><p>msi_ctrl_int</p></td>
<td><p>—</p></td>
<td><p>TT_APLIC_TLM2 (irqS[3] in vdksys)</p></td>
<td><p>—</p></td>
<td><p>Host RC MSI to APLIC.</p></td>
</tr>
<tr class="row-odd"><td><p><strong>Sideband</strong></p></td>
<td><p>sys_int, device_type, ready_entr_l23, app_ltssm_en, link_up, sys_pre_det_state, apps_pm_xmt_turnoff, clk_req_in, app_req_entr_l1, app_req_exit_l1, app_flr_pf_done_x, app_ltr_*, msi_gen, and all other Default/sideband</p></td>
<td><p>—</p></td>
<td><p>—</p></td>
<td><p>Yes (vdksys stubs many)</p></td>
<td><p>No tile; stub optional RC sideband.</p></td>
</tr>
</tbody>
</table>
<p><strong>C. Summary</strong></p>
<ul class="simple">
<li><p><strong>EP:</strong> Connect to <strong>PCIe Tile</strong>: PCIMem_Slave → pcie_controller_target; BusMaster → pcie_controller_initiator; resets and cc_core_clk (and optionally cc_dbi_aclk) to tile sc_in; CII, FLR, hot reset, app_bus_num, app_dev_num, device_type, sys_int, dma_completion, ras_error to/from tile sc_in/sc_out as in Section 3.4. Connect to <strong>system</strong>: AXI_Slave, AXI_DBI to SharedMemoryMap; cc_dbi_aclk to SYSCLK; msi_ctrl_int to APLIC. <strong>Stub</strong>: ELBIMaster; optional/PHY clocks (cc_pipe_clk, etc.); power/L1/L2 and other optional sideband.</p></li>
<li><p><strong>RC:</strong> Connect to <strong>link</strong>: PCIMem, PCIMem_Slave to EP (or PCIeSwitch). Connect to <strong>system</strong>: AXI_Slave, AXI_DBI, BusMaster to SharedMemoryMap; clocks to SYSCLK; msi_ctrl_int to APLIC. <strong>Stub</strong>: All optional sideband and PHY clocks as in vdksys.</p></li>
</ul>
</section>
</section>
</section>
<hr class="docutils" />
<section id="connectivity-architecture">
<h2>4. Connectivity Architecture<a class="headerlink" href="#connectivity-architecture" title="Permalink to this heading"></a></h2>
<section id="inbound-data-path-host-chip">
<h3>4.1 Inbound Data Path (Host → Chip)<a class="headerlink" href="#inbound-data-path-host-chip" title="Permalink to this heading"></a></h3>
<p><strong>Use Case:</strong> Host CPU writes data to Quasar compute cores or Mimir memory. The host communicates with the PCIe Tile via a <strong>PCIe Controller</strong>. On the host side the controller is a <strong>Root Complex</strong> (RC); on the Keraunos chip side the controller is the <strong>Synopsys PCIe Controller IP</strong> (DesignWare), configured as an <strong>Endpoint</strong> (EP). So the link is Host (RC) ↔ Keraunos (EP); the PCIe Tile sits behind the endpoint and receives TLPs from it over the internal interface.</p>
<div class="mermaid">
            sequenceDiagram
    participant Host as Host CPU
    participant Ctrl as PCIe Controller
    participant Tile as PCIe Tile
    participant TLB as Inbound TLB
    participant Switch as PCIe-SMN-IO Switch
    participant NOC as NOC-N
    participant SMN as SMN
    participant Quasar as Quasar

    Host-&gt;&gt;Ctrl: Memory Write
    Ctrl-&gt;&gt;Tile: Memory Write TLP
    Tile-&gt;&gt;TLB: Lookup Translation
    TLB--&gt;&gt;Tile: System Address
    Tile-&gt;&gt;Switch: Forward
    Switch-&gt;&gt;Switch: Route Decision

    alt NOC-bound
        Switch-&gt;&gt;NOC: Forward
        NOC-&gt;&gt;Quasar: D2D to Quasar
        Quasar--&gt;&gt;NOC: Response
        NOC--&gt;&gt;Switch: Response
    else SMN-bound
        Switch-&gt;&gt;SMN: Forward
        SMN--&gt;&gt;Switch: Response
    end

    Switch--&gt;&gt;Tile: Completion
    Tile--&gt;&gt;Ctrl: Completion TLP
    Ctrl--&gt;&gt;Host: Completion
        </div><p><strong>Key Steps:</strong></p>
<ol class="arabic simple">
<li><p>Host initiates PCIe Memory Write targeting Keraunos BAR (Base Address Register); the request is sent via the <strong>PCIe Controller</strong> over the PCIe link.</p></li>
<li><p>PCIe Controller delivers the Memory Write TLP to the PCIe Tile; the tile receives the transaction via its <code class="docutils literal notranslate"><span class="pre">pcie_inbound</span></code> socket.</p></li>
<li><p>Inbound TLB translates host address to system address space</p></li>
<li><p>PCIe-SMN-IO Switch routes based on address:</p>
<ul class="simple">
<li><p><strong>0x0000_0000_0000 - 0x0000_FFFF_FFFF:</strong> NOC-bound (via <code class="docutils literal notranslate"><span class="pre">noc_n_initiator</span></code>)</p></li>
<li><p><strong>0x1000_0000_0000 - 0x1FFF_FFFF_FFFF:</strong> SMN-bound (via <code class="docutils literal notranslate"><span class="pre">smn_n_initiator</span></code>)</p></li>
</ul>
</li>
<li><p>Transaction forwarded to NOC-N or SMN</p></li>
<li><p>NOC-N routes via D2D links to destination Quasar/Mimir chiplet</p></li>
<li><p>Response traverses back through the same path; PCIe Tile sends Completion TLP to the PCIe Controller, which delivers it to the Host.</p></li>
</ol>
<p><strong>Sideband signal flow (inbound use case):</strong><br />
During inbound (Host → Chip), the EP and system drive sideband inputs to the PCIe Tile so the tile can accept and process TLPs; the tile drives sideband outputs back to the EP. The flow is:</p>
<div class="mermaid">
            graph LR
    subgraph host_rc[&quot;Host / RC&quot;]
        H[Host]
    end

    subgraph ep[&quot;EP - Synopsys Controller&quot;]
        EP_IN[Sideband Out]
        EP_OUT[Sideband In]
    end

    subgraph tile[&quot;PCIe Tile&quot;]
        SC_IN[sc_in]
        SC_OUT[sc_out]
    end

    subgraph sys[&quot;System SMC&quot;]
        SYS[Reset / Isolate]
    end

    H --&gt;|TLP| EP_IN
    EP_IN --&gt;|clk, reset_n, CII, FLR, hot_reset, ras, dma_cpl, misc_int| SC_IN
    SYS --&gt;|cold_reset_n, warm_reset_n, isolate_req, axi_clk| SC_IN
    SC_OUT --&gt;|FLR out, hot_reset_req, config_update, ras, dma_cpl, controller_misc_int, noc_timeout, bus/dev, device_type, sys_int| EP_OUT
    EP_OUT --&gt;|Optional to RC| H

    style SC_IN fill:#fce4ec
    style SC_OUT fill:#e8f5e9
        </div><table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Direction</p></th>
<th class="head"><p>Signals</p></th>
<th class="head"><p>Role in inbound use case</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>EP → Tile (sc_in)</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">pcie_core_clk</span></code>, <code class="docutils literal notranslate"><span class="pre">pcie_controller_reset_n</span></code>, <code class="docutils literal notranslate"><span class="pre">pcie_cii_*</span></code>, <code class="docutils literal notranslate"><span class="pre">pcie_flr_request</span></code>, <code class="docutils literal notranslate"><span class="pre">pcie_hot_reset</span></code>, <code class="docutils literal notranslate"><span class="pre">pcie_ras_error</span></code>, <code class="docutils literal notranslate"><span class="pre">pcie_dma_completion</span></code>, <code class="docutils literal notranslate"><span class="pre">pcie_misc_int</span></code></p></td>
<td><p>Clock and reset so tile is ready; CII for config info; EP may assert FLR/hot_reset/errors during or after inbound TLPs.</p></td>
</tr>
<tr class="row-odd"><td><p>System → Tile (sc_in)</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">cold_reset_n</span></code>, <code class="docutils literal notranslate"><span class="pre">warm_reset_n</span></code>, <code class="docutils literal notranslate"><span class="pre">isolate_req</span></code>, <code class="docutils literal notranslate"><span class="pre">axi_clk</span></code></p></td>
<td><p>SoC reset and isolation; AXI clock for config/MMIO.</p></td>
</tr>
<tr class="row-even"><td><p>Tile → EP (sc_out)</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">function_level_reset</span></code>, <code class="docutils literal notranslate"><span class="pre">hot_reset_requested</span></code>, <code class="docutils literal notranslate"><span class="pre">config_update</span></code>, <code class="docutils literal notranslate"><span class="pre">ras_error</span></code>, <code class="docutils literal notranslate"><span class="pre">dma_completion</span></code>, <code class="docutils literal notranslate"><span class="pre">controller_misc_int</span></code>, <code class="docutils literal notranslate"><span class="pre">noc_timeout</span></code>, <code class="docutils literal notranslate"><span class="pre">pcie_app_bus_num</span></code>, <code class="docutils literal notranslate"><span class="pre">pcie_app_dev_num</span></code>, <code class="docutils literal notranslate"><span class="pre">pcie_device_type</span></code>, <code class="docutils literal notranslate"><span class="pre">pcie_sys_int</span></code></p></td>
<td><p>FLR/hot_reset handshake; config and error reporting; NOC timeout; SII bus/dev and interrupt to EP.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="outbound-data-path-chip-host">
<h3>4.2 Outbound Data Path (Chip → Host)<a class="headerlink" href="#outbound-data-path-chip-host" title="Permalink to this heading"></a></h3>
<p><strong>Use Case:</strong> Quasar compute cores send results back to host DRAM or trigger MSI interrupts.</p>
<div class="mermaid">
            sequenceDiagram
    participant Quasar as Quasar
    participant NOC as NOC-N
    participant PCIe as PCIe Tile
    participant TLB as Outbound TLB
    participant Ctrl as PCIe Controller
    participant Host as Host

    Quasar-&gt;&gt;NOC: Write
    NOC-&gt;&gt;PCIe: Forward
    PCIe-&gt;&gt;TLB: TLB Lookup
    TLB--&gt;&gt;PCIe: Host Address
    PCIe-&gt;&gt;Ctrl: Forward
    Ctrl-&gt;&gt;Host: Memory Write TLP
    Host--&gt;&gt;Ctrl: Completion
    Ctrl--&gt;&gt;PCIe: Response
    PCIe--&gt;&gt;NOC: Response
    NOC--&gt;&gt;Quasar: Completion
        </div><p><strong>Key Steps:</strong></p>
<ol class="arabic simple">
<li><p>Quasar initiates write targeting PCIe address range (typically host DRAM)</p></li>
<li><p>NOC-N routes to Keraunos PCIe Tile via <code class="docutils literal notranslate"><span class="pre">noc_n_outbound</span></code> socket</p></li>
<li><p>Outbound TLB translates system address back to host physical address</p></li>
<li><p>PCIe Controller (<code class="docutils literal notranslate"><span class="pre">pcie_controller_initiator</span></code>) generates PCIe Memory Write TLP</p></li>
<li><p>Transaction sent over PCIe link to host</p></li>
<li><p>Host DRAM responds with completion</p></li>
<li><p>Response propagates back through PCIe Tile → NOC → Quasar</p></li>
</ol>
<p><strong>Sideband signal flow (outbound use case):</strong><br />
During outbound (Chip → Host), the same sideband links carry status and handshake: the EP may drive reset/FLR; the tile uses sideband outputs to signal completion and errors to the EP so the EP can complete TLPs toward the host.</p>
<div class="mermaid">
            graph LR
    subgraph quasar_noc[&quot;Quasar / NOC&quot;]
        Q[Quasar]
    end

    subgraph tile[&quot;PCIe Tile&quot;]
        SC_IN[sc_in]
        SC_OUT[sc_out]
    end

    subgraph ep[&quot;EP - Synopsys Controller&quot;]
        EP_IN[Sideband In]
        EP_OUT[Sideband Out]
    end

    subgraph host[&quot;Host&quot;]
        H[Host DRAM]
    end

    Q --&gt;|TLP| tile
    EP_OUT --&gt;|clk, reset_n, CII, FLR, hot_reset, ras, dma_cpl, misc_int| SC_IN
    SC_OUT --&gt;|dma_completion, controller_misc_int, config_update, ras_error, noc_timeout, FLR out, hot_reset_req| EP_IN
    EP_IN --&gt;|TLP to host| H
    H --&gt;|Completion| EP_IN
    EP_IN -.-&gt;|Completion sideband if any| EP_OUT

    style SC_IN fill:#fce4ec
    style SC_OUT fill:#e8f5e9
        </div><table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Direction</p></th>
<th class="head"><p>Signals</p></th>
<th class="head"><p>Role in outbound use case</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>EP → Tile (sc_in)</p></td>
<td><p>Same as inbound</p></td>
<td><p>Clock and reset; CII; EP can assert FLR/hot_reset or error sideband during outbound.</p></td>
</tr>
<tr class="row-odd"><td><p>Tile → EP (sc_out)</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">dma_completion</span></code>, <code class="docutils literal notranslate"><span class="pre">controller_misc_int</span></code>, <code class="docutils literal notranslate"><span class="pre">config_update</span></code>, <code class="docutils literal notranslate"><span class="pre">ras_error</span></code>, <code class="docutils literal notranslate"><span class="pre">noc_timeout</span></code>, <code class="docutils literal notranslate"><span class="pre">function_level_reset</span></code>, <code class="docutils literal notranslate"><span class="pre">hot_reset_requested</span></code></p></td>
<td><p>Tell EP when tile has completed work (e.g. outbound DMA) or hit errors; FLR/hot_reset handshake; NOC timeout so EP can report or retry.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="configuration-path-smn-pcie-tile-registers">
<h3>4.3 Configuration Path (SMN → PCIe Tile Registers)<a class="headerlink" href="#configuration-path-smn-pcie-tile-registers" title="Permalink to this heading"></a></h3>
<p><strong>Use Case:</strong> SMC programs PCIe Tile TLBs, enables MSI relay, or reads error status.</p>
<div class="mermaid">
            sequenceDiagram
    participant SMC as SMC
    participant SMN as SMN
    participant PCIe as PCIe Config

    SMC-&gt;&gt;SMN: SMN Write
    SMN-&gt;&gt;PCIe: Forward
    PCIe-&gt;&gt;PCIe: Update TLB or MSI
    PCIe--&gt;&gt;SMN: Response
    SMN--&gt;&gt;SMC: Complete
        </div><p><strong>Addressable Registers (via SMN):</strong></p>
<ul class="simple">
<li><p><strong>0x1804_0000 - 0x1804_07FF:</strong> Inbound TLB configurations (8 entries)</p></li>
<li><p><strong>0x1804_0800 - 0x1804_0FFF:</strong> Outbound TLB configurations (8 entries)</p></li>
<li><p><strong>0x1800_0000 - 0x1800_0FFF:</strong> MSI Relay registers</p></li>
<li><p><strong>0x1802_0000 - 0x1802_0FFF:</strong> PCIe error status and control</p></li>
</ul>
</section>
<section id="msi-interrupt-path-chip-host">
<h3>4.4 MSI Interrupt Path (Chip → Host)<a class="headerlink" href="#msi-interrupt-path-chip-host" title="Permalink to this heading"></a></h3>
<p><strong>Use Case:</strong> Ethernet controller or Quasar triggers interrupt to host driver.</p>
<div class="mermaid">
            sequenceDiagram
    participant HSIO as HSIO Tile
    participant SMN as SMN
    participant MSI as MSI Relay
    participant PCIe as PCIe Controller
    participant Host as Host CPU

    HSIO-&gt;&gt;SMN: Trigger Interrupt
    SMN-&gt;&gt;MSI: Forward
    MSI-&gt;&gt;MSI: Translate to MSI-X
    MSI-&gt;&gt;PCIe: MSI-X TLP
    PCIe-&gt;&gt;Host: MSI-X Write
    Host-&gt;&gt;Host: ISR
        </div></section>
</section>
<hr class="docutils" />
<section id="data-flow-paths">
<h2>5. Data Flow Paths<a class="headerlink" href="#data-flow-paths" title="Permalink to this heading"></a></h2>
<section id="end-to-end-data-flow-example-host-dma-to-quasar">
<h3>5.1 End-to-End Data Flow Example: Host DMA to Quasar<a class="headerlink" href="#end-to-end-data-flow-example-host-dma-to-quasar" title="Permalink to this heading"></a></h3>
<p><strong>Scenario:</strong> Host writes 4KB of neural network weights to Quasar L1 memory.</p>
<div class="mermaid">
            graph LR
    subgraph host[&quot;Host System&quot;]
        A[Host DMA]
    end

    subgraph pcie_tile[&quot;PCIe Tile&quot;]
        B[PCIe Inbound]
        C[Inbound TLB]
        D[Switch]
        E[NOC Initiator]
    end

    subgraph noc[&quot;NOC&quot;]
        F[QNP Mesh]
        G[D2D Tile]
    end

    subgraph quasar[&quot;Quasar&quot;]
        H[NOC Router]
        I[L1 Memory]
    end

    A --&gt;|PCIe Write| B
    B --&gt; C
    C --&gt;|Translate| D
    D --&gt; E
    E --&gt; F
    F --&gt;|QNP| G
    G --&gt;|BoW| H
    H --&gt; I

    style B fill:#ffcccc
    style C fill:#ffe6cc
    style D fill:#d9f7d9
    style E fill:#cce5ff
    style F fill:#cce5ff
    style G fill:#e6ccff
    style I fill:#ffe6cc
        </div><p><strong>Address Translation:</strong></p>
<ul class="simple">
<li><p><strong>Host Address:</strong> <code class="docutils literal notranslate"><span class="pre">0x8000_0000</span></code> (PCIe BAR + offset)</p></li>
<li><p><strong>Inbound TLB Lookup:</strong> Maps application region 0 → NOC address</p></li>
<li><p><strong>System Address:</strong> <code class="docutils literal notranslate"><span class="pre">0x0000_0000_4000_0000</span></code> (Quasar chiplet, NOC coordinates, L1 offset)</p></li>
<li><p><strong>Physical Routing:</strong> QNP mesh routes to D2D tile 2 → Quasar chiplet ID 1 → Tensix core (4,5)</p></li>
</ul>
</section>
<section id="multi-hop-data-flow-quasar-pcie-host-pcie-quasar">
<h3>5.2 Multi-Hop Data Flow: Quasar → PCIe → Host → PCIe → Quasar<a class="headerlink" href="#multi-hop-data-flow-quasar-pcie-host-pcie-quasar" title="Permalink to this heading"></a></h3>
<p><strong>Scenario:</strong> Quasar chiplet 0 sends data to Quasar chiplet 1 in a different Grendel package via host DRAM (zero-copy).</p>
<div class="mermaid">
            graph TB
    subgraph pkg0[&quot;Package 0&quot;]
        Q0[Quasar 0]
        K0[Keraunos PCIe 0]
        Q0 --&gt;|1. NOC Write| K0
    end

    H[Host DRAM]
    K0 --&gt;|2. PCIe Write| H

    subgraph pkg1[&quot;Package 1&quot;]
        K1[Keraunos PCIe 1]
        Q1[Quasar 1]
        K1 --&gt;|4. NOC Write| Q1
    end

    H --&gt;|3. PCIe Read| K1

    style Q0 fill:#ffe6cc
    style K0 fill:#ffcccc
    style H fill:#fff4e1
    style K1 fill:#ffcccc
    style Q1 fill:#ffe6cc
        </div></section>
</section>
<hr class="docutils" />
<section id="address-space-integration">
<h2>6. Address Space Integration<a class="headerlink" href="#address-space-integration" title="Permalink to this heading"></a></h2>
<section id="system-address-map">
<h3>6.1 System Address Map<a class="headerlink" href="#system-address-map" title="Permalink to this heading"></a></h3>
<p>The Keraunos-E100 local address map is a subset of the broader Grendel system address map:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Address Range</p></th>
<th class="head"><p>Target</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">0x0000_0000_0000</span> <span class="pre">-</span> <span class="pre">0x0000_FFFF_FFFF</span></code></p></td>
<td><p>NOC-N</p></td>
<td><p>Quasar/Mimir chiplets via D2D</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">0x1000_0000_0000</span> <span class="pre">-</span> <span class="pre">0x1000_0FFF_FFFF</span></code></p></td>
<td><p>SMN (SEP)</p></td>
<td><p>Security Engine Processor</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">0x1001_0000_0000</span> <span class="pre">-</span> <span class="pre">0x1001_0FFF_FFFF</span></code></p></td>
<td><p>SMN (SMC)</p></td>
<td><p>System Management Controller</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">0x1800_0000_0000</span> <span class="pre">-</span> <span class="pre">0x1800_0FFF_FFFF</span></code></p></td>
<td><p>SMN (MSI)</p></td>
<td><p>MSI Relay in PCIe Tile</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">0x1802_0000_0000</span> <span class="pre">-</span> <span class="pre">0x1802_0FFF_FFFF</span></code></p></td>
<td><p>SMN (PCIe Err)</p></td>
<td><p>PCIe Tile error registers</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">0x1804_0000_0000</span> <span class="pre">-</span> <span class="pre">0x1804_0FFF_FFFF</span></code></p></td>
<td><p>SMN (TLB)</p></td>
<td><p>PCIe Tile TLB configurations</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">0x2000_0000_0000</span> <span class="pre">-</span> <span class="pre">0x2000_00FF_FFFF</span></code></p></td>
<td><p>HSIO</p></td>
<td><p>HSIO tile 0 (CCE, Ethernet, SRAM)</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">0x2001_0000_0000</span> <span class="pre">-</span> <span class="pre">0x2001_00FF_FFFF</span></code></p></td>
<td><p>HSIO</p></td>
<td><p>HSIO tile 1 (CCE, Ethernet, SRAM)</p></td>
</tr>
</tbody>
</table>
</section>
<section id="pcie-bar-base-address-register-mapping">
<h3>6.2 PCIe BAR (Base Address Register) Mapping<a class="headerlink" href="#pcie-bar-base-address-register-mapping" title="Permalink to this heading"></a></h3>
<p>The PCIe Tile exposes multiple BARs to the host:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>BAR</p></th>
<th class="head"><p>Size</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Purpose</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>BAR0</p></td>
<td><p>256MB</p></td>
<td><p>Memory, 64-bit</p></td>
<td><p>Main data path (DMA to/from Quasar)</p></td>
</tr>
<tr class="row-odd"><td><p>BAR2</p></td>
<td><p>16MB</p></td>
<td><p>Memory, 64-bit</p></td>
<td><p>Configuration space (SMC mailboxes, TLB programming)</p></td>
</tr>
<tr class="row-even"><td><p>BAR4</p></td>
<td><p>64KB</p></td>
<td><p>Memory, 64-bit</p></td>
<td><p>MSI-X table</p></td>
</tr>
</tbody>
</table>
<p><strong>BAR0 Inbound TLB Mapping Example:</strong></p>
<ul class="simple">
<li><p>Host writes to <code class="docutils literal notranslate"><span class="pre">BAR0</span> <span class="pre">+</span> <span class="pre">0x1000_0000</span></code> (256MB offset)</p></li>
<li><p>Inbound TLB Entry 1 (Application region 1):</p>
<ul>
<li><p><strong>Input Range:</strong> <code class="docutils literal notranslate"><span class="pre">0x1000_0000</span> <span class="pre">-</span> <span class="pre">0x1FFF_FFFF</span></code> (256MB)</p></li>
<li><p><strong>Output Base:</strong> <code class="docutils literal notranslate"><span class="pre">0x0000_0000_4000_0000</span></code> (NOC address for Quasar chiplet 1)</p></li>
</ul>
</li>
<li><p>Translated Address: <code class="docutils literal notranslate"><span class="pre">0x0000_0000_4000_0000</span></code> (sent to NOC-N)</p></li>
</ul>
</section>
<section id="address-translation-stages">
<h3>6.3 Address Translation Stages<a class="headerlink" href="#address-translation-stages" title="Permalink to this heading"></a></h3>
<div class="mermaid">
            graph LR
    A[Host Addr]
    B[PCIe TLP]
    C[Inbound TLB]
    D[System Addr]
    E[NOC Routing]
    F[D2D Translate]
    G[Quasar Addr]

    A --&gt; B
    B --&gt; C
    C --&gt; D
    D --&gt; E
    E --&gt; F
    F --&gt; G

    style C fill:#ffe6cc
    style D fill:#cce5ff
    style E fill:#e6ccff
        </div></section>
</section>
<hr class="docutils" />
<section id="system-use-cases">
<h2>7. System Use Cases<a class="headerlink" href="#system-use-cases" title="Permalink to this heading"></a></h2>
<section id="use-case-1-model-initialization">
<h3>7.1 Use Case 1: Model Initialization<a class="headerlink" href="#use-case-1-model-initialization" title="Permalink to this heading"></a></h3>
<p><strong>Objective:</strong> Load a 10GB large language model from host to distributed Quasar memory.</p>
<p><strong>Flow:</strong></p>
<ol class="arabic simple">
<li><p>Host driver programs PCIe Tile Inbound TLBs (8 entries for 8 memory regions)</p></li>
<li><p>Host DMA engine streams model weights via PCIe Memory Writes</p></li>
<li><p>PCIe Tile translates addresses and routes to NOC-N</p></li>
<li><p>NOC-N distributes data across multiple Quasar chiplets via D2D links</p></li>
<li><p>Quasar chiplets store weights in local L1/DRAM</p></li>
</ol>
<p><strong>Performance:</strong></p>
<ul class="simple">
<li><p>PCIe Gen5 x16: ~64 GB/s theoretical, ~50 GB/s effective</p></li>
<li><p>Load time: 10GB / 50 GB/s = <strong>200ms</strong></p></li>
</ul>
</section>
<section id="use-case-2-inference-execution">
<h3>7.2 Use Case 2: Inference Execution<a class="headerlink" href="#use-case-2-inference-execution" title="Permalink to this heading"></a></h3>
<p><strong>Objective:</strong> Run inference on Quasar chiplets, stream results back to host.</p>
<p><strong>Flow:</strong></p>
<ol class="arabic simple">
<li><p>Host sends inference request descriptor via PCIe write (small payload: 256 bytes)</p></li>
<li><p>Quasar chiplets execute inference using cached model weights</p></li>
<li><p>Quasar writes results to host DRAM via outbound TLB (PCIe Memory Write)</p></li>
<li><p>Quasar triggers MSI-X interrupt via SMN → MSI Relay → PCIe</p></li>
<li><p>Host driver processes results</p></li>
</ol>
<p><strong>Latency:</strong></p>
<ul class="simple">
<li><p>Request descriptor: ~1μs (PCIe TLP overhead)</p></li>
<li><p>Inference execution: Variable (model-dependent)</p></li>
<li><p>Result transfer (1MB): 1MB / 50 GB/s = <strong>20μs</strong></p></li>
<li><p>MSI interrupt latency: ~2μs</p></li>
</ul>
</section>
<section id="use-case-3-package-to-package-communication">
<h3>7.3 Use Case 3: Package-to-Package Communication<a class="headerlink" href="#use-case-3-package-to-package-communication" title="Permalink to this heading"></a></h3>
<p><strong>Objective:</strong> Enable Quasar chiplets in Package 0 to communicate with Package 1 over Ethernet.</p>
<p><strong>Flow (Keraunos Ethernet-based):</strong></p>
<ol class="arabic simple">
<li><p>Quasar in Package 0 writes data to HSIO SRAM via NOC-N</p></li>
<li><p>CCE in HSIO tile prepares Ethernet packet</p></li>
<li><p>TT Ethernet Controller sends packet via 800G Ethernet to Package 1</p></li>
<li><p>Package 1 Ethernet Controller receives packet, writes to local HSIO SRAM</p></li>
<li><p>Local NOC-N forwards data to destination Quasar</p></li>
</ol>
<p><strong>Alternative Flow (PCIe-based, for same-host deployments):</strong></p>
<ol class="arabic simple">
<li><p>Quasar in Package 0 writes to host DRAM via PCIe Tile (outbound)</p></li>
<li><p>Package 1 PCIe Tile reads from host DRAM (inbound)</p></li>
<li><p>Forwarded to Package 1 Quasar via NOC-N</p></li>
</ol>
</section>
<section id="use-case-4-system-management">
<h3>7.4 Use Case 4: System Management<a class="headerlink" href="#use-case-4-system-management" title="Permalink to this heading"></a></h3>
<p><strong>Objective:</strong> SMC monitors PCIe link status and reconfigures TLBs dynamically.</p>
<p><strong>Flow:</strong></p>
<ol class="arabic simple">
<li><p>SMC reads PCIe link status registers via SMN (0x1802_0xxx)</p></li>
<li><p>Detects link degradation (Gen5 x16 → Gen5 x8)</p></li>
<li><p>SMC reprograms TLB entries to reduce traffic load</p></li>
<li><p>SMC triggers software notification via MSI-X</p></li>
<li><p>Host driver adjusts DMA batch sizes</p></li>
</ol>
</section>
</section>
<hr class="docutils" />
<section id="appendices">
<h2>8. Appendices<a class="headerlink" href="#appendices" title="Permalink to this heading"></a></h2>
<section id="acronyms-and-abbreviations">
<h3>8.1 Acronyms and Abbreviations<a class="headerlink" href="#acronyms-and-abbreviations" title="Permalink to this heading"></a></h3>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Term</p></th>
<th class="head"><p>Definition</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>AXI</p></td>
<td><p>Advanced eXtensible Interface (ARM AMBA standard)</p></td>
</tr>
<tr class="row-odd"><td><p>BAR</p></td>
<td><p>Base Address Register (PCIe configuration space)</p></td>
</tr>
<tr class="row-even"><td><p>BoW</p></td>
<td><p>Bridge-of-Wire (die-to-die interconnect technology)</p></td>
</tr>
<tr class="row-odd"><td><p>CCE</p></td>
<td><p>Keraunos Compute Engine (DMA and packet processing)</p></td>
</tr>
<tr class="row-even"><td><p>D2D</p></td>
<td><p>Die-to-Die (chiplet interconnect interface)</p></td>
</tr>
<tr class="row-odd"><td><p>DMA</p></td>
<td><p>Direct Memory Access</p></td>
</tr>
<tr class="row-even"><td><p>HSIO</p></td>
<td><p>High-Speed Input/Output (Ethernet subsystem in Keraunos)</p></td>
</tr>
<tr class="row-odd"><td><p>ISR</p></td>
<td><p>Interrupt Service Routine</p></td>
</tr>
<tr class="row-even"><td><p>MAC</p></td>
<td><p>Media Access Control (Ethernet layer)</p></td>
</tr>
<tr class="row-odd"><td><p>MSI</p></td>
<td><p>Message Signaled Interrupt (PCIe interrupt mechanism)</p></td>
</tr>
<tr class="row-even"><td><p>NOC</p></td>
<td><p>Network-on-Chip</p></td>
</tr>
<tr class="row-odd"><td><p>PCS</p></td>
<td><p>Physical Coding Sublayer (Ethernet layer)</p></td>
</tr>
<tr class="row-even"><td><p>QNP</p></td>
<td><p>Quasar NOC Protocol (internal NOC protocol)</p></td>
</tr>
<tr class="row-odd"><td><p>RISC-V</p></td>
<td><p>Reduced Instruction Set Computer - Version 5 (open ISA)</p></td>
</tr>
<tr class="row-even"><td><p>SCML2</p></td>
<td><p>SystemC Modeling Library 2 (Synopsys verification library)</p></td>
</tr>
<tr class="row-odd"><td><p>SEP</p></td>
<td><p>Security Engine Processor</p></td>
</tr>
<tr class="row-even"><td><p>SMC</p></td>
<td><p>System Management Controller</p></td>
</tr>
<tr class="row-odd"><td><p>SMN</p></td>
<td><p>System Management Network (control plane NOC)</p></td>
</tr>
<tr class="row-even"><td><p>SMU</p></td>
<td><p>System Management Unit (clock/power/reset control)</p></td>
</tr>
<tr class="row-odd"><td><p>SRAM</p></td>
<td><p>Static Random-Access Memory</p></td>
</tr>
<tr class="row-even"><td><p>TLB</p></td>
<td><p>Translation Lookaside Buffer (address translation cache)</p></td>
</tr>
<tr class="row-odd"><td><p>TLP</p></td>
<td><p>Transaction Layer Packet (PCIe protocol)</p></td>
</tr>
<tr class="row-even"><td><p>TLM</p></td>
<td><p>Transaction-Level Modeling (SystemC abstraction)</p></td>
</tr>
</tbody>
</table>
</section>
<section id="reference-documents">
<h3>8.2 Reference Documents<a class="headerlink" href="#reference-documents" title="Permalink to this heading"></a></h3>
<ol class="arabic simple">
<li><p><strong>Keraunos-E100 Architecture Specification</strong> (keraunos-e100-for-review.pdf, v0.9.14)</p></li>
<li><p><strong>Keraunos PCIe Tile High-Level Design</strong> (Keraunos_PCIe_Tile_HLD.md, v2.0)</p></li>
<li><p><strong>Keraunos PCIe Tile SystemC Design Document</strong> (Keraunos_PCIE_Tile_SystemC_Design_Document.md, v2.1)</p></li>
<li><p><strong>Keraunos PCIe Tile Test Plan</strong> (Keraunos_PCIE_Tile_Testplan.md, v2.1)</p></li>
<li><p><strong>PCIe Base Specification 5.0</strong> (PCI-SIG, 2019)</p></li>
<li><p><strong>AMBA AXI and ACE Protocol Specification</strong> (ARM IHI 0022E)</p></li>
<li><p><strong>SystemC TLM-2.0 Language Reference Manual</strong> (IEEE 1666-2011)</p></li>
</ol>
</section>
<section id="revision-history">
<h3>8.3 Revision History<a class="headerlink" href="#revision-history" title="Permalink to this heading"></a></h3>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Version</p></th>
<th class="head"><p>Date</p></th>
<th class="head"><p>Author</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>1.0</p></td>
<td><p>2026-02-10</p></td>
<td><p>System Architecture Team</p></td>
<td><p>Initial release</p></td>
</tr>
</tbody>
</table>
<hr class="docutils" />
<p><strong>Document Control:</strong></p>
<ul class="simple">
<li><p><strong>Classification:</strong> Internal Use Only</p></li>
<li><p><strong>Distribution:</strong> Keraunos Project Team, Grendel Architecture Team</p></li>
<li><p><strong>Review Cycle:</strong> Quarterly or upon major architecture changes</p></li>
</ul>
<hr class="docutils" />
<p><strong>End of Document</strong></p>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="index.html" class="btn btn-neutral float-left" title="Keraunos PCIe Tile Documentation" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="Keraunos_PCIe_Tile_HLD.html" class="btn btn-neutral float-right" title="Keraunos PCIe Tile - High-Level Design Document" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2026, SystemC Modeling Team.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>